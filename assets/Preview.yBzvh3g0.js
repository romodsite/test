import{r as S,g as E}from"./vendor.g9V5BtTL.js";function C(c,d){for(var i=0;i<d.length;i++){const l=d[i];if(typeof l!="string"&&!Array.isArray(l)){for(const s in l)if(s!=="default"&&!(s in c)){const p=Object.getOwnPropertyDescriptor(l,s);p&&Object.defineProperty(c,s,p.get?p:{enumerable:!0,get:()=>l[s]})}}}return Object.freeze(Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}))}var y,j;function D(){if(j)return y;j=1;var c,d=Object.create,i=Object.defineProperty,l=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,p=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty,v=(n,e,t,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of s(e))x.call(n,r)||r===t||i(n,r,{get:()=>e[r],enumerable:!(a=l(e,r))||a.enumerable});return n},h=(n,e,t)=>(((a,r,o)=>{r in a?i(a,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[r]=o})(n,typeof e!="symbol"?e+"":e,t),t),w={};((n,e)=>{for(var t in e)i(n,t,{get:e[t],enumerable:!0})})(w,{default:()=>I}),c=w,y=v(i({},"__esModule",{value:!0}),c);var u=((n,e,t)=>(t=n!=null?d(p(n)):{},v(n&&n.__esModule?t:i(t,"default",{value:n,enumerable:!0}),n)))(S());const f="64px",m={};class I extends u.Component{constructor(){super(...arguments),h(this,"mounted",!1),h(this,"state",{image:null}),h(this,"handleKeyPress",e=>{e.key!=="Enter"&&e.key!==" "||this.props.onClick()})}componentDidMount(){this.mounted=!0,this.fetchImage(this.props)}componentDidUpdate(e){const{url:t,light:a}=this.props;e.url===t&&e.light===a||this.fetchImage(this.props)}componentWillUnmount(){this.mounted=!1}fetchImage({url:e,light:t,oEmbedUrl:a}){if(!u.default.isValidElement(t))if(typeof t!="string"){if(!m[e])return this.setState({image:null}),window.fetch(a.replace("{url}",e)).then(r=>r.json()).then(r=>{if(r.thumbnail_url&&this.mounted){const o=r.thumbnail_url.replace("height=100","height=480").replace("-d_295x166","-d_640");this.setState({image:o}),m[e]=o}});this.setState({image:m[e]})}else this.setState({image:t})}render(){const{light:e,onClick:t,playIcon:a,previewTabIndex:r,previewAriaLabel:o}=this.props,{image:_}=this.state,g=u.default.isValidElement(e),O={display:"flex",alignItems:"center",justifyContent:"center"},b={preview:{width:"100%",height:"100%",backgroundImage:_&&!g?`url(${_})`:void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer",...O},shadow:{background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:f,width:f,height:f,position:g?"absolute":void 0,...O},playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},k=u.default.createElement("div",{style:b.shadow,className:"react-player__shadow"},u.default.createElement("div",{style:b.playIcon,className:"react-player__play-icon"}));return u.default.createElement("div",{style:b.preview,className:"react-player__preview",onClick:t,tabIndex:r,onKeyPress:this.handleKeyPress,...o?{"aria-label":o}:{}},g?e:null,a||k)}}return y}var P=D();const N=C({__proto__:null,default:E(P)},[P]);export{N as P};
