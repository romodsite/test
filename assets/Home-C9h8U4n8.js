const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Preview-UqdjYhop.js","./index-KON1Efku.js","./index-B-RQZNy7.css"])))=>i.map(i=>d[i]);
import{R as B,r as y,j as S,g as Re,a as q,_ as Ae,c as Z,b as Ce}from"./index-KON1Efku.js";import{r as Ie}from"./index-Chjiymov.js";import{U as Me,F as je,a as ke,L as oe,g as Ne,y as de}from"./App-BgHDUfAN.js";import{C as De}from"./Card-DvnnPAgm.js";const Ue=B.memo(({child:g,index:f,slideWidth:E})=>S.jsx("div",{style:{width:`${E}px`,flexShrink:0},children:g})),He=({children:g})=>{const f=y.useRef(null),E=y.useRef(null),[m,_]=y.useState(0),[s,v]=y.useState(1),[b,d]=y.useState(0),[T,L]=y.useState(0),[a,C]=y.useState(0),[P,D]=y.useState(0),[I,U]=y.useState(!1),[i,l]=y.useState(!1),[n,r]=y.useState("300ms"),[u,p]=y.useState(!1),[A,M]=y.useState(0),H=274,V=y.useCallback(()=>{u||m>=b||(p(!0),_(w=>{const R=w+s;return Math.min(R,b)}),M(w=>Math.min(w+1,T-1)))},[u,m,b,s,T]),x=y.useCallback(()=>{u||m<=0||(p(!0),_(w=>{const R=w-s;return Math.max(R,0)}),M(w=>Math.max(w-1,0)))},[u,m,s]);y.useEffect(()=>{const w=setTimeout(()=>p(!1),parseInt(n));return()=>clearTimeout(w)},[m,n]);const j=y.useCallback(()=>{const R=B.Children.count(g)-s;return`translateX(-${Math.min(m,R)*H}px)`},[g,m,s]);y.useEffect(()=>{const w=()=>{if(f.current&&E.current){const c=f.current.offsetWidth,o=Math.floor(c/H);v(o);const O=B.Children.count(g),N=Math.max(0,O-o);d(N);const F=Math.ceil(O/o);L(F),window.innerWidth<=500?r("300ms"):window.innerWidth<=768?r("600ms"):r("1000ms")}};w();const R=()=>{w()};return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[g]),y.useEffect(()=>{const w=f.current,R=c=>{if(!I)return;const o=c.touches[0].clientX,O=c.touches[0].clientY,N=a-o,F=P-O;i||(Math.abs(N)>Math.abs(F)?c.preventDefault():(l(!0),U(!1))),i||(N>50?(V(),U(!1)):N<-50&&(x(),U(!1)))};return w==null||w.addEventListener("touchmove",R,{passive:!1}),()=>{w==null||w.removeEventListener("touchmove",R)}},[I,i,a,P,V,x]);const k=y.useCallback(w=>{C(w.touches[0].clientX),D(w.touches[0].clientY),U(!0),l(!1)},[]),t=y.useCallback(()=>{U(!1)},[]),e=y.useMemo(()=>{const w=B.Children.toArray(g),R=2,c=Math.max(0,m-R),o=Math.min(w.length,m+s+R),O=[];c>0&&O.push(S.jsx("div",{style:{width:`${c*H}px`,flexShrink:0}},"start-placeholder"));for(let N=c;N<o;N++)O.push(S.jsx(Ue,{child:w[N],index:N,slideWidth:H},N));return O},[g,m,s]),h=y.useMemo(()=>S.jsx("div",{className:"pagination-indicator flex justify-center mt-4 space-x-2",children:Array.from({length:T}).map((w,R)=>S.jsx("div",{className:`w-2 h-[3px] ${R===A?"bg-white":"bg-gray-500"}`},R))}),[T,A]);return S.jsxs("div",{className:"carousel-wrapper relative w-full mx-auto",children:[S.jsxs("div",{ref:f,className:"carousel-container overflow-hidden relative w-full",onTouchStart:k,onTouchEnd:t,children:[S.jsx("div",{ref:E,className:"carousel-content flex mx-4 md:mx-[40px]",style:{transform:j(),width:`${B.Children.count(g)*H}px`,transition:`transform ${n} ease-in-out`},children:e}),m>0&&S.jsx("button",{onClick:x,className:"absolute h-full top-1/2 left-0 transform -translate-y-1/2 p-2 opacity-40 transition-all duration-300 cursor-pointer bg-gray-500 hover:bg-gray-700 hover:opacity-60 text-white hidden sm:block",children:"⬅"}),m<b&&S.jsx("button",{onClick:V,className:"absolute h-full top-1/2 right-0 transform -translate-y-1/2 p-2 opacity-40 transition-all duration-300 cursor-pointer bg-gray-500 hover:bg-gray-700 hover:opacity-60 text-white hidden sm:block",children:"➡"})]}),h]})},Ve=B.memo(He),Fe=B.createContext({}),Oe=!0;function Be({baseColor:g,highlightColor:f,width:E,height:m,borderRadius:_,circle:s,direction:v,duration:b,enableAnimation:d=Oe,customHighlightBackground:T}){const L={};return v==="rtl"&&(L["--animation-direction"]="reverse"),typeof b=="number"&&(L["--animation-duration"]=`${b}s`),d||(L["--pseudo-element-display"]="none"),(typeof E=="string"||typeof E=="number")&&(L.width=E),(typeof m=="string"||typeof m=="number")&&(L.height=m),(typeof _=="string"||typeof _=="number")&&(L.borderRadius=_),s&&(L.borderRadius="50%"),typeof g<"u"&&(L["--base-color"]=g),typeof f<"u"&&(L["--highlight-color"]=f),typeof T=="string"&&(L["--custom-highlight-background"]=T),L}function fe({count:g=1,wrapper:f,className:E,containerClassName:m,containerTestId:_,circle:s=!1,style:v,...b}){var d,T,L;const a=B.useContext(Fe),C={...b};for(const[n,r]of Object.entries(b))typeof r>"u"&&delete C[n];const P={...a,...C,circle:s},D={...v,...Be(P)};let I="react-loading-skeleton";E&&(I+=` ${E}`);const U=(d=P.inline)!==null&&d!==void 0?d:!1,i=[],l=Math.ceil(g);for(let n=0;n<l;n++){let r=D;if(l>g&&n===l-1){const p=(T=r.width)!==null&&T!==void 0?T:"100%",A=g%1,M=typeof p=="number"?p*A:`calc(${p} * ${A})`;r={...r,width:M}}const u=B.createElement("span",{className:I,style:r,key:n},"‌");U?i.push(u):i.push(B.createElement(B.Fragment,{key:n},u,B.createElement("br",null)))}return B.createElement("span",{className:m,"data-testid":_,"aria-live":"polite","aria-busy":(L=P.enableAnimation)!==null&&L!==void 0?L:Oe},f?i.map((n,r)=>B.createElement(f,{key:r},n)):i)}const $e=({count:g=10,className:f="",skeletonClassName:E=""})=>S.jsx("div",{className:"flex",children:Array.from({length:g}).map((m,_)=>S.jsx("div",{className:`w-[266px] h-[300px] mx-1 ${f}`,children:S.jsxs("div",{className:E,children:[S.jsx("h2",{children:S.jsx(fe,{height:21,width:90})}),S.jsx("p",{children:S.jsx(fe,{height:21,width:150})})]})},_))});var Y,he;function Ee(){if(he)return Y;he=1;var g=function(l){return f(l)&&!E(l)};function f(i){return!!i&&typeof i=="object"}function E(i){var l=Object.prototype.toString.call(i);return l==="[object RegExp]"||l==="[object Date]"||s(i)}var m=typeof Symbol=="function"&&Symbol.for,_=m?Symbol.for("react.element"):60103;function s(i){return i.$$typeof===_}function v(i){return Array.isArray(i)?[]:{}}function b(i,l){return l.clone!==!1&&l.isMergeableObject(i)?I(v(i),i,l):i}function d(i,l,n){return i.concat(l).map(function(r){return b(r,n)})}function T(i,l){if(!l.customMerge)return I;var n=l.customMerge(i);return typeof n=="function"?n:I}function L(i){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(i).filter(function(l){return Object.propertyIsEnumerable.call(i,l)}):[]}function a(i){return Object.keys(i).concat(L(i))}function C(i,l){try{return l in i}catch{return!1}}function P(i,l){return C(i,l)&&!(Object.hasOwnProperty.call(i,l)&&Object.propertyIsEnumerable.call(i,l))}function D(i,l,n){var r={};return n.isMergeableObject(i)&&a(i).forEach(function(u){r[u]=b(i[u],n)}),a(l).forEach(function(u){P(i,u)||(C(i,u)&&n.isMergeableObject(l[u])?r[u]=T(u,n)(i[u],l[u],n):r[u]=b(l[u],n))}),r}function I(i,l,n){n=n||{},n.arrayMerge=n.arrayMerge||d,n.isMergeableObject=n.isMergeableObject||g,n.cloneUnlessOtherwiseSpecified=b;var r=Array.isArray(l),u=Array.isArray(i),p=r===u;return p?r?n.arrayMerge(i,l,n):D(i,l,n):b(l,n)}I.all=function(l,n){if(!Array.isArray(l))throw new Error("first argument should be an array");return l.reduce(function(r,u){return I(r,u,n)},{})};var U=I;return Y=U,Y}var pe=Number.isNaN||function(f){return typeof f=="number"&&f!==f};function ze(g,f){return!!(g===f||pe(g)&&pe(f))}function We(g,f){if(g.length!==f.length)return!1;for(var E=0;E<g.length;E++)if(!ze(g[E],f[E]))return!1;return!0}function qe(g,f){f===void 0&&(f=We);var E,m=[],_,s=!1;function v(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];return s&&E===this&&f(b,m)||(_=g.apply(this,b),s=!0,E=this,m=b),_}return v}const Ke=Object.freeze(Object.defineProperty({__proto__:null,default:qe},Symbol.toStringTag,{value:"Module"})),Xe=Re(Ke);var G,ye;function Te(){if(ye)return G;ye=1;var g=typeof Element<"u",f=typeof Map=="function",E=typeof Set=="function",m=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function _(s,v){if(s===v)return!0;if(s&&v&&typeof s=="object"&&typeof v=="object"){if(s.constructor!==v.constructor)return!1;var b,d,T;if(Array.isArray(s)){if(b=s.length,b!=v.length)return!1;for(d=b;d--!==0;)if(!_(s[d],v[d]))return!1;return!0}var L;if(f&&s instanceof Map&&v instanceof Map){if(s.size!==v.size)return!1;for(L=s.entries();!(d=L.next()).done;)if(!v.has(d.value[0]))return!1;for(L=s.entries();!(d=L.next()).done;)if(!_(d.value[1],v.get(d.value[0])))return!1;return!0}if(E&&s instanceof Set&&v instanceof Set){if(s.size!==v.size)return!1;for(L=s.entries();!(d=L.next()).done;)if(!v.has(d.value[0]))return!1;return!0}if(m&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(v)){if(b=s.length,b!=v.length)return!1;for(d=b;d--!==0;)if(s[d]!==v[d])return!1;return!0}if(s.constructor===RegExp)return s.source===v.source&&s.flags===v.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof v.valueOf=="function")return s.valueOf()===v.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof v.toString=="function")return s.toString()===v.toString();if(T=Object.keys(s),b=T.length,b!==Object.keys(v).length)return!1;for(d=b;d--!==0;)if(!Object.prototype.hasOwnProperty.call(v,T[d]))return!1;if(g&&s instanceof Element)return!1;for(d=b;d--!==0;)if(!((T[d]==="_owner"||T[d]==="__v"||T[d]==="__o")&&s.$$typeof)&&!_(s[T[d]],v[T[d]]))return!1;return!0}return s!==s&&v!==v}return G=function(v,b){try{return _(v,b)}catch(d){if((d.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw d}},G}var J,me;function Le(){if(me)return J;me=1;var g=Object.create,f=Object.defineProperty,E=Object.getOwnPropertyDescriptor,m=Object.getOwnPropertyNames,_=Object.getPrototypeOf,s=Object.prototype.hasOwnProperty,v=(M,H)=>{for(var V in H)f(M,V,{get:H[V],enumerable:!0})},b=(M,H,V,x)=>{if(H&&typeof H=="object"||typeof H=="function")for(let j of m(H))!s.call(M,j)&&j!==V&&f(M,j,{get:()=>H[j],enumerable:!(x=E(H,j))||x.enumerable});return M},d=(M,H,V)=>(V=M!=null?g(_(M)):{},b(!M||!M.__esModule?f(V,"default",{value:M,enumerable:!0}):V,M)),T=M=>b(f({},"__esModule",{value:!0}),M),L={};v(L,{defaultProps:()=>A,propTypes:()=>u}),J=T(L);var a=d(Ie());const{string:C,bool:P,number:D,array:I,oneOfType:U,shape:i,object:l,func:n,node:r}=a.default,u={url:U([C,I,l]),playing:P,loop:P,controls:P,volume:D,muted:P,playbackRate:D,width:U([C,D]),height:U([C,D]),style:l,progressInterval:D,playsinline:P,pip:P,stopOnUnmount:P,light:U([P,C,l]),playIcon:r,previewTabIndex:D,previewAriaLabel:C,fallback:r,oEmbedUrl:C,wrapper:U([C,n,i({render:n.isRequired})]),config:i({soundcloud:i({options:l}),youtube:i({playerVars:l,embedOptions:l,onUnstarted:n}),facebook:i({appId:C,version:C,playerId:C,attributes:l}),dailymotion:i({params:l}),vimeo:i({playerOptions:l,title:C}),mux:i({attributes:l,version:C}),file:i({attributes:l,tracks:I,forceVideo:P,forceAudio:P,forceHLS:P,forceSafariHLS:P,forceDisableHls:P,forceDASH:P,forceFLV:P,hlsOptions:l,hlsVersion:C,dashVersion:C,flvVersion:C}),wistia:i({options:l,playerId:C,customControls:I}),mixcloud:i({options:l}),twitch:i({options:l,playerId:C}),vidyard:i({options:l})}),onReady:n,onStart:n,onPlay:n,onPause:n,onBuffer:n,onBufferEnd:n,onEnded:n,onError:n,onDuration:n,onSeek:n,onPlaybackRateChange:n,onPlaybackQualityChange:n,onProgress:n,onClickPreview:n,onEnablePIP:n,onDisablePIP:n},p=()=>{},A={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:p},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:p,onStart:p,onPlay:p,onPause:p,onBuffer:p,onBufferEnd:p,onEnded:p,onError:p,onDuration:p,onSeek:p,onPlaybackRateChange:p,onPlaybackQualityChange:p,onProgress:p,onClickPreview:p,onEnablePIP:p,onDisablePIP:p};return J}var Q,ge;function Ze(){if(ge)return Q;ge=1,Q=function(_,s,v){var b=document.head||document.getElementsByTagName("head")[0],d=document.createElement("script");typeof s=="function"&&(v=s,s={}),s=s||{},v=v||function(){},d.type=s.type||"text/javascript",d.charset=s.charset||"utf8",d.async="async"in s?!!s.async:!0,d.src=_,s.attrs&&g(d,s.attrs),s.text&&(d.text=""+s.text);var T="onload"in d?f:E;T(d,v),d.onload||f(d,v),b.appendChild(d)};function g(m,_){for(var s in _)m.setAttribute(s,_[s])}function f(m,_){m.onload=function(){this.onerror=this.onload=null,_(null,m)},m.onerror=function(){this.onerror=this.onload=null,_(new Error("Failed to load "+this.src),m)}}function E(m,_){m.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,_(null,m))}}return Q}var ee,ve;function K(){if(ve)return ee;ve=1;var g=Object.create,f=Object.defineProperty,E=Object.getOwnPropertyDescriptor,m=Object.getOwnPropertyNames,_=Object.getPrototypeOf,s=Object.prototype.hasOwnProperty,v=(c,o)=>{for(var O in o)f(c,O,{get:o[O],enumerable:!0})},b=(c,o,O,N)=>{if(o&&typeof o=="object"||typeof o=="function")for(let F of m(o))!s.call(c,F)&&F!==O&&f(c,F,{get:()=>o[F],enumerable:!(N=E(o,F))||N.enumerable});return c},d=(c,o,O)=>(O=c!=null?g(_(c)):{},b(!c||!c.__esModule?f(O,"default",{value:c,enumerable:!0}):O,c)),T=c=>b(f({},"__esModule",{value:!0}),c),L={};v(L,{callPlayer:()=>t,getConfig:()=>j,getSDK:()=>x,isBlobUrl:()=>h,isMediaStream:()=>e,lazy:()=>D,omit:()=>k,parseEndTime:()=>p,parseStartTime:()=>u,queryString:()=>M,randomString:()=>A,supportsWebKitPresentationMode:()=>w}),ee=T(L);var a=d(q()),C=d(Ze()),P=d(Ee());const D=c=>a.default.lazy(async()=>{const o=await c();return typeof o.default=="function"?o:o.default}),I=/[?&#](?:start|t)=([0-9hms]+)/,U=/[?&#]end=([0-9hms]+)/,i=/(\d+)(h|m|s)/g,l=/^\d+$/;function n(c,o){if(c instanceof Array)return;const O=c.match(o);if(O){const N=O[1];if(N.match(i))return r(N);if(l.test(N))return parseInt(N)}}function r(c){let o=0,O=i.exec(c);for(;O!==null;){const[,N,F]=O;F==="h"&&(o+=parseInt(N,10)*60*60),F==="m"&&(o+=parseInt(N,10)*60),F==="s"&&(o+=parseInt(N,10)),O=i.exec(c)}return o}function u(c){return n(c,I)}function p(c){return n(c,U)}function A(){return Math.random().toString(36).substr(2,5)}function M(c){return Object.keys(c).map(o=>`${o}=${c[o]}`).join("&")}function H(c){return window[c]?window[c]:window.exports&&window.exports[c]?window.exports[c]:window.module&&window.module.exports&&window.module.exports[c]?window.module.exports[c]:null}const V={},x=function(o,O,N=null,F=()=>!0,$=C.default){const W=H(O);return W&&F(W)?Promise.resolve(W):new Promise((le,ue)=>{if(V[o]){V[o].push({resolve:le,reject:ue});return}V[o]=[{resolve:le,reject:ue}];const ce=z=>{V[o].forEach(X=>X.resolve(z))};if(N){const z=window[N];window[N]=function(){z&&z(),ce(H(O))}}$(o,z=>{z?(V[o].forEach(X=>X.reject(z)),V[o]=null):N||ce(H(O))})})};function j(c,o){return(0,P.default)(o.config,c.config)}function k(c,...o){const O=[].concat(...o),N={},F=Object.keys(c);for(const $ of F)O.indexOf($)===-1&&(N[$]=c[$]);return N}function t(c,...o){if(!this.player||!this.player[c]){let O=`ReactPlayer: ${this.constructor.displayName} player could not call %c${c}%c – `;return this.player?this.player[c]||(O+="The method was not available"):O+="The player was not available",console.warn(O,"font-weight: bold",""),null}return this.player[c](...o)}function e(c){return typeof window<"u"&&typeof window.MediaStream<"u"&&c instanceof window.MediaStream}function h(c){return/^blob:/.test(c)}function w(c=document.createElement("video")){const o=/iPhone|iPod/.test(navigator.userAgent)===!1;return c.webkitSupportsPresentationMode&&typeof c.webkitSetPresentationMode=="function"&&o}function R(c){return c}return ee}var te,be;function Ye(){if(be)return te;be=1;var g=Object.create,f=Object.defineProperty,E=Object.getOwnPropertyDescriptor,m=Object.getOwnPropertyNames,_=Object.getPrototypeOf,s=Object.prototype.hasOwnProperty,v=(n,r,u)=>r in n?f(n,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[r]=u,b=(n,r)=>{for(var u in r)f(n,u,{get:r[u],enumerable:!0})},d=(n,r,u,p)=>{if(r&&typeof r=="object"||typeof r=="function")for(let A of m(r))!s.call(n,A)&&A!==u&&f(n,A,{get:()=>r[A],enumerable:!(p=E(r,A))||p.enumerable});return n},T=(n,r,u)=>(u=n!=null?g(_(n)):{},d(!n||!n.__esModule?f(u,"default",{value:n,enumerable:!0}):u,n)),L=n=>d(f({},"__esModule",{value:!0}),n),a=(n,r,u)=>(v(n,typeof r!="symbol"?r+"":r,u),u),C={};b(C,{default:()=>l}),te=L(C);var P=T(q()),D=T(Te()),I=Le(),U=K();const i=5e3;class l extends P.Component{constructor(){super(...arguments),a(this,"mounted",!1),a(this,"isReady",!1),a(this,"isPlaying",!1),a(this,"isLoading",!0),a(this,"loadOnReady",null),a(this,"startOnPlay",!0),a(this,"seekOnPlay",null),a(this,"onDurationCalled",!1),a(this,"handlePlayerMount",r=>{if(this.player){this.progress();return}this.player=r,this.player.load(this.props.url),this.progress()}),a(this,"getInternalPlayer",r=>this.player?this.player[r]:null),a(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const r=this.getCurrentTime()||0,u=this.getSecondsLoaded(),p=this.getDuration();if(p){const A={playedSeconds:r,played:r/p};u!==null&&(A.loadedSeconds=u,A.loaded=u/p),(A.playedSeconds!==this.prevPlayed||A.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(A),this.prevPlayed=A.playedSeconds,this.prevLoaded=A.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),a(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:r,playing:u,volume:p,muted:A}=this.props;r(),!A&&p!==null&&this.player.setVolume(p),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):u&&this.player.play(),this.handleDurationCheck()}),a(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:r,onPlay:u,playbackRate:p}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&p!==1&&this.player.setPlaybackRate(p),r(),this.startOnPlay=!1),u(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),a(this,"handlePause",r=>{this.isPlaying=!1,this.isLoading||this.props.onPause(r)}),a(this,"handleEnded",()=>{const{activePlayer:r,loop:u,onEnded:p}=this.props;r.loopOnEnded&&u&&this.seekTo(0),u||(this.isPlaying=!1,p())}),a(this,"handleError",(...r)=>{this.isLoading=!1,this.props.onError(...r)}),a(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const r=this.getDuration();r?this.onDurationCalled||(this.props.onDuration(r),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),a(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(r){if(!this.player)return;const{url:u,playing:p,volume:A,muted:M,playbackRate:H,pip:V,loop:x,activePlayer:j,disableDeferredLoading:k}=this.props;if(!(0,D.default)(r.url,u)){if(this.isLoading&&!j.forceLoad&&!k&&!(0,U.isMediaStream)(u)){console.warn(`ReactPlayer: the attempt to load ${u} is being deferred until the player has loaded`),this.loadOnReady=u;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(u,this.isReady)}!r.playing&&p&&!this.isPlaying&&this.player.play(),r.playing&&!p&&this.isPlaying&&this.player.pause(),!r.pip&&V&&this.player.enablePIP&&this.player.enablePIP(),r.pip&&!V&&this.player.disablePIP&&this.player.disablePIP(),r.volume!==A&&A!==null&&this.player.setVolume(A),r.muted!==M&&(M?this.player.mute():(this.player.unmute(),A!==null&&setTimeout(()=>this.player.setVolume(A)))),r.playbackRate!==H&&this.player.setPlaybackRate&&this.player.setPlaybackRate(H),r.loop!==x&&this.player.setLoop&&this.player.setLoop(x)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(r,u,p){if(!this.isReady){r!==0&&(this.seekOnPlay=r,setTimeout(()=>{this.seekOnPlay=null},i));return}if(u?u==="fraction":r>0&&r<1){const M=this.player.getDuration();if(!M){console.warn("ReactPlayer: could not seek using fraction – duration not yet available");return}this.player.seekTo(M*r,p);return}this.player.seekTo(r,p)}render(){const r=this.props.activePlayer;return r?P.default.createElement(r,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}return a(l,"displayName","Player"),a(l,"propTypes",I.propTypes),a(l,"defaultProps",I.defaultProps),te}var re,Pe;function Ge(){if(Pe)return re;Pe=1;var g=Object.create,f=Object.defineProperty,E=Object.getOwnPropertyDescriptor,m=Object.getOwnPropertyNames,_=Object.getPrototypeOf,s=Object.prototype.hasOwnProperty,v=(x,j,k)=>j in x?f(x,j,{enumerable:!0,configurable:!0,writable:!0,value:k}):x[j]=k,b=(x,j)=>{for(var k in j)f(x,k,{get:j[k],enumerable:!0})},d=(x,j,k,t)=>{if(j&&typeof j=="object"||typeof j=="function")for(let e of m(j))!s.call(x,e)&&e!==k&&f(x,e,{get:()=>j[e],enumerable:!(t=E(j,e))||t.enumerable});return x},T=(x,j,k)=>(k=x!=null?g(_(x)):{},d(!x||!x.__esModule?f(k,"default",{value:x,enumerable:!0}):k,x)),L=x=>d(f({},"__esModule",{value:!0}),x),a=(x,j,k)=>(v(x,typeof j!="symbol"?j+"":j,k),k),C={};b(C,{createReactPlayer:()=>V}),re=L(C);var P=T(q()),D=T(Ee()),I=T(Xe),U=T(Te()),i=Le(),l=K(),n=T(Ye());const r=(0,l.lazy)(()=>Ae(()=>import("./Preview-UqdjYhop.js").then(x=>x.P),__vite__mapDeps([0,1,2]),import.meta.url)),u=typeof window<"u"&&window.document&&typeof document<"u",p=typeof Z<"u"&&Z.window&&Z.window.document,A=Object.keys(i.propTypes),M=u||p?P.Suspense:()=>null,H=[],V=(x,j)=>{var k;return k=class extends P.Component{constructor(){super(...arguments),a(this,"state",{showPreview:!!this.props.light}),a(this,"references",{wrapper:t=>{this.wrapper=t},player:t=>{this.player=t}}),a(this,"handleClickPreview",t=>{this.setState({showPreview:!1}),this.props.onClickPreview(t)}),a(this,"showPreview",()=>{this.setState({showPreview:!0})}),a(this,"getDuration",()=>this.player?this.player.getDuration():null),a(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),a(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),a(this,"getInternalPlayer",(t="player")=>this.player?this.player.getInternalPlayer(t):null),a(this,"seekTo",(t,e,h)=>{if(!this.player)return null;this.player.seekTo(t,e,h)}),a(this,"handleReady",()=>{this.props.onReady(this)}),a(this,"getActivePlayer",(0,I.default)(t=>{for(const e of[...H,...x])if(e.canPlay(t))return e;return j||null})),a(this,"getConfig",(0,I.default)((t,e)=>{const{config:h}=this.props;return D.default.all([i.defaultProps.config,i.defaultProps.config[e]||{},h,h[e]||{}])})),a(this,"getAttributes",(0,I.default)(t=>(0,l.omit)(this.props,A))),a(this,"renderActivePlayer",t=>{if(!t)return null;const e=this.getActivePlayer(t);if(!e)return null;const h=this.getConfig(t,e.key);return P.default.createElement(n.default,{...this.props,key:e.key,ref:this.references.player,config:h,activePlayer:e.lazyPlayer||e,onReady:this.handleReady})})}shouldComponentUpdate(t,e){return!(0,U.default)(this.props,t)||!(0,U.default)(this.state,e)}componentDidUpdate(t){const{light:e}=this.props;!t.light&&e&&this.setState({showPreview:!0}),t.light&&!e&&this.setState({showPreview:!1})}renderPreview(t){if(!t)return null;const{light:e,playIcon:h,previewTabIndex:w,oEmbedUrl:R,previewAriaLabel:c}=this.props;return P.default.createElement(r,{url:t,light:e,playIcon:h,previewTabIndex:w,previewAriaLabel:c,oEmbedUrl:R,onClick:this.handleClickPreview})}render(){const{url:t,style:e,width:h,height:w,fallback:R,wrapper:c}=this.props,{showPreview:o}=this.state,O=this.getAttributes(t),N=typeof c=="string"?this.references.wrapper:void 0;return P.default.createElement(c,{ref:N,style:{...e,width:h,height:w},...O},P.default.createElement(M,{fallback:R},o?this.renderPreview(t):this.renderActivePlayer(t)))}},a(k,"displayName","ReactPlayer"),a(k,"propTypes",i.propTypes),a(k,"defaultProps",i.defaultProps),a(k,"addCustomPlayer",t=>{H.push(t)}),a(k,"removeCustomPlayers",()=>{H.length=0}),a(k,"canPlay",t=>{for(const e of[...H,...x])if(e.canPlay(t))return!0;return!1}),a(k,"canEnablePIP",t=>{for(const e of[...H,...x])if(e.canEnablePIP&&e.canEnablePIP(t))return!0;return!1}),k};return re}var ne,_e;function Je(){if(_e)return ne;_e=1;var g=Object.defineProperty,f=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyNames,m=Object.prototype.hasOwnProperty,_=(t,e)=>{for(var h in e)g(t,h,{get:e[h],enumerable:!0})},s=(t,e,h,w)=>{if(e&&typeof e=="object"||typeof e=="function")for(let R of E(e))!m.call(t,R)&&R!==h&&g(t,R,{get:()=>e[R],enumerable:!(w=f(e,R))||w.enumerable});return t},v=t=>s(g({},"__esModule",{value:!0}),t),b={};_(b,{AUDIO_EXTENSIONS:()=>A,DASH_EXTENSIONS:()=>V,FLV_EXTENSIONS:()=>x,HLS_EXTENSIONS:()=>H,MATCH_URL_DAILYMOTION:()=>n,MATCH_URL_FACEBOOK:()=>P,MATCH_URL_FACEBOOK_WATCH:()=>D,MATCH_URL_KALTURA:()=>p,MATCH_URL_MIXCLOUD:()=>r,MATCH_URL_MUX:()=>C,MATCH_URL_SOUNDCLOUD:()=>L,MATCH_URL_STREAMABLE:()=>I,MATCH_URL_TWITCH_CHANNEL:()=>l,MATCH_URL_TWITCH_VIDEO:()=>i,MATCH_URL_VIDYARD:()=>u,MATCH_URL_VIMEO:()=>a,MATCH_URL_WISTIA:()=>U,MATCH_URL_YOUTUBE:()=>T,VIDEO_EXTENSIONS:()=>M,canPlay:()=>k}),ne=v(b);var d=K();const T=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,L=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,a=/vimeo\.com\/(?!progressive_redirect).+/,C=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,P=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,D=/^https?:\/\/fb\.watch\/.+$/,I=/streamable\.com\/([a-z0-9]+)$/,U=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,i=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,l=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,n=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,r=/mixcloud\.com\/([^/]+\/[^/]+)/,u=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,p=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,A=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,M=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,H=/\.(m3u8)($|\?)/i,V=/\.(mpd)($|\?)/i,x=/\.(flv)($|\?)/i,j=t=>{if(t instanceof Array){for(const e of t)if(typeof e=="string"&&j(e)||j(e.src))return!0;return!1}return(0,d.isMediaStream)(t)||(0,d.isBlobUrl)(t)?!0:A.test(t)||M.test(t)||H.test(t)||V.test(t)||x.test(t)},k={youtube:t=>t instanceof Array?t.every(e=>T.test(e)):T.test(t),soundcloud:t=>L.test(t)&&!A.test(t),vimeo:t=>a.test(t)&&!M.test(t)&&!H.test(t),mux:t=>C.test(t),facebook:t=>P.test(t)||D.test(t),streamable:t=>I.test(t),wistia:t=>U.test(t),twitch:t=>i.test(t)||l.test(t),dailymotion:t=>n.test(t),mixcloud:t=>r.test(t),vidyard:t=>u.test(t),kaltura:t=>p.test(t),file:j};return ne}var se,we;function Qe(){if(we)return se;we=1;var g=Object.create,f=Object.defineProperty,E=Object.getOwnPropertyDescriptor,m=Object.getOwnPropertyNames,_=Object.getPrototypeOf,s=Object.prototype.hasOwnProperty,v=(t,e,h)=>e in t?f(t,e,{enumerable:!0,configurable:!0,writable:!0,value:h}):t[e]=h,b=(t,e)=>{for(var h in e)f(t,h,{get:e[h],enumerable:!0})},d=(t,e,h,w)=>{if(e&&typeof e=="object"||typeof e=="function")for(let R of m(e))!s.call(t,R)&&R!==h&&f(t,R,{get:()=>e[R],enumerable:!(w=E(e,R))||w.enumerable});return t},T=(t,e,h)=>(h=t!=null?g(_(t)):{},d(!t||!t.__esModule?f(h,"default",{value:t,enumerable:!0}):h,t)),L=t=>d(f({},"__esModule",{value:!0}),t),a=(t,e,h)=>(v(t,typeof e!="symbol"?e+"":e,h),h),C={};b(C,{default:()=>k}),se=L(C);var P=T(q()),D=K(),I=Je();const U=typeof navigator<"u",i=U&&navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,l=U&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||i)&&!window.MSStream,n=U&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&!window.MSStream,r="https://cdn.jsdelivr.net/npm/hls.js@VERSION/dist/hls.min.js",u="Hls",p="https://cdnjs.cloudflare.com/ajax/libs/dashjs/VERSION/dash.all.min.js",A="dashjs",M="https://cdn.jsdelivr.net/npm/flv.js@VERSION/dist/flv.min.js",H="flvjs",V=/www\.dropbox\.com\/.+/,x=/https:\/\/watch\.cloudflarestream\.com\/([a-z0-9]+)/,j="https://videodelivery.net/{id}/manifest/video.m3u8";class k extends P.Component{constructor(){super(...arguments),a(this,"onReady",(...e)=>this.props.onReady(...e)),a(this,"onPlay",(...e)=>this.props.onPlay(...e)),a(this,"onBuffer",(...e)=>this.props.onBuffer(...e)),a(this,"onBufferEnd",(...e)=>this.props.onBufferEnd(...e)),a(this,"onPause",(...e)=>this.props.onPause(...e)),a(this,"onEnded",(...e)=>this.props.onEnded(...e)),a(this,"onError",(...e)=>this.props.onError(...e)),a(this,"onPlayBackRateChange",e=>this.props.onPlaybackRateChange(e.target.playbackRate)),a(this,"onEnablePIP",(...e)=>this.props.onEnablePIP(...e)),a(this,"onDisablePIP",e=>{const{onDisablePIP:h,playing:w}=this.props;h(e),w&&this.play()}),a(this,"onPresentationModeChange",e=>{if(this.player&&(0,D.supportsWebKitPresentationMode)(this.player)){const{webkitPresentationMode:h}=this.player;h==="picture-in-picture"?this.onEnablePIP(e):h==="inline"&&this.onDisablePIP(e)}}),a(this,"onSeek",e=>{this.props.onSeek(e.target.currentTime)}),a(this,"mute",()=>{this.player.muted=!0}),a(this,"unmute",()=>{this.player.muted=!1}),a(this,"renderSourceElement",(e,h)=>typeof e=="string"?P.default.createElement("source",{key:h,src:e}):P.default.createElement("source",{key:h,...e})),a(this,"renderTrack",(e,h)=>P.default.createElement("track",{key:h,...e})),a(this,"ref",e=>{this.player&&(this.prevPlayer=this.player),this.player=e})}componentDidMount(){this.props.onMount&&this.props.onMount(this),this.addListeners(this.player);const e=this.getSource(this.props.url);e&&(this.player.src=e),(l||this.props.config.forceDisableHls)&&this.player.load()}componentDidUpdate(e){this.shouldUseAudio(this.props)!==this.shouldUseAudio(e)&&(this.removeListeners(this.prevPlayer,e.url),this.addListeners(this.player)),this.props.url!==e.url&&!(0,D.isMediaStream)(this.props.url)&&!(this.props.url instanceof Array)&&(this.player.srcObject=null)}componentWillUnmount(){this.player.removeAttribute("src"),this.removeListeners(this.player),this.hls&&this.hls.destroy()}addListeners(e){const{url:h,playsinline:w}=this.props;e.addEventListener("play",this.onPlay),e.addEventListener("waiting",this.onBuffer),e.addEventListener("playing",this.onBufferEnd),e.addEventListener("pause",this.onPause),e.addEventListener("seeked",this.onSeek),e.addEventListener("ended",this.onEnded),e.addEventListener("error",this.onError),e.addEventListener("ratechange",this.onPlayBackRateChange),e.addEventListener("enterpictureinpicture",this.onEnablePIP),e.addEventListener("leavepictureinpicture",this.onDisablePIP),e.addEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(h)||e.addEventListener("canplay",this.onReady),w&&(e.setAttribute("playsinline",""),e.setAttribute("webkit-playsinline",""),e.setAttribute("x5-playsinline",""))}removeListeners(e,h){e.removeEventListener("canplay",this.onReady),e.removeEventListener("play",this.onPlay),e.removeEventListener("waiting",this.onBuffer),e.removeEventListener("playing",this.onBufferEnd),e.removeEventListener("pause",this.onPause),e.removeEventListener("seeked",this.onSeek),e.removeEventListener("ended",this.onEnded),e.removeEventListener("error",this.onError),e.removeEventListener("ratechange",this.onPlayBackRateChange),e.removeEventListener("enterpictureinpicture",this.onEnablePIP),e.removeEventListener("leavepictureinpicture",this.onDisablePIP),e.removeEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(h)||e.removeEventListener("canplay",this.onReady)}shouldUseAudio(e){return e.config.forceVideo||e.config.attributes.poster?!1:I.AUDIO_EXTENSIONS.test(e.url)||e.config.forceAudio}shouldUseHLS(e){return n&&this.props.config.forceSafariHLS||this.props.config.forceHLS?!0:l||this.props.config.forceDisableHls?!1:I.HLS_EXTENSIONS.test(e)||x.test(e)}shouldUseDASH(e){return I.DASH_EXTENSIONS.test(e)||this.props.config.forceDASH}shouldUseFLV(e){return I.FLV_EXTENSIONS.test(e)||this.props.config.forceFLV}load(e){const{hlsVersion:h,hlsOptions:w,dashVersion:R,flvVersion:c}=this.props.config;if(this.hls&&this.hls.destroy(),this.dash&&this.dash.reset(),this.shouldUseHLS(e)&&(0,D.getSDK)(r.replace("VERSION",h),u).then(o=>{if(this.hls=new o(w),this.hls.on(o.Events.MANIFEST_PARSED,()=>{this.props.onReady()}),this.hls.on(o.Events.ERROR,(O,N)=>{this.props.onError(O,N,this.hls,o)}),x.test(e)){const O=e.match(x)[1];this.hls.loadSource(j.replace("{id}",O))}else this.hls.loadSource(e);this.hls.attachMedia(this.player),this.props.onLoaded()}),this.shouldUseDASH(e)&&(0,D.getSDK)(p.replace("VERSION",R),A).then(o=>{this.dash=o.MediaPlayer().create(),this.dash.initialize(this.player,e,this.props.playing),this.dash.on("error",this.props.onError),parseInt(R)<3?this.dash.getDebug().setLogToBrowserConsole(!1):this.dash.updateSettings({debug:{logLevel:o.Debug.LOG_LEVEL_NONE}}),this.props.onLoaded()}),this.shouldUseFLV(e)&&(0,D.getSDK)(M.replace("VERSION",c),H).then(o=>{this.flv=o.createPlayer({type:"flv",url:e}),this.flv.attachMediaElement(this.player),this.flv.on(o.Events.ERROR,(O,N)=>{this.props.onError(O,N,this.flv,o)}),this.flv.load(),this.props.onLoaded()}),e instanceof Array)this.player.load();else if((0,D.isMediaStream)(e))try{this.player.srcObject=e}catch{this.player.src=window.URL.createObjectURL(e)}}play(){const e=this.player.play();e&&e.catch(this.props.onError)}pause(){this.player.pause()}stop(){this.player.removeAttribute("src"),this.dash&&this.dash.reset()}seekTo(e,h=!0){this.player.currentTime=e,h||this.pause()}setVolume(e){this.player.volume=e}enablePIP(){this.player.requestPictureInPicture&&document.pictureInPictureElement!==this.player?this.player.requestPictureInPicture():(0,D.supportsWebKitPresentationMode)(this.player)&&this.player.webkitPresentationMode!=="picture-in-picture"&&this.player.webkitSetPresentationMode("picture-in-picture")}disablePIP(){document.exitPictureInPicture&&document.pictureInPictureElement===this.player?document.exitPictureInPicture():(0,D.supportsWebKitPresentationMode)(this.player)&&this.player.webkitPresentationMode!=="inline"&&this.player.webkitSetPresentationMode("inline")}setPlaybackRate(e){try{this.player.playbackRate=e}catch(h){this.props.onError(h)}}getDuration(){if(!this.player)return null;const{duration:e,seekable:h}=this.player;return e===1/0&&h.length>0?h.end(h.length-1):e}getCurrentTime(){return this.player?this.player.currentTime:null}getSecondsLoaded(){if(!this.player)return null;const{buffered:e}=this.player;if(e.length===0)return 0;const h=e.end(e.length-1),w=this.getDuration();return h>w?w:h}getSource(e){const h=this.shouldUseHLS(e),w=this.shouldUseDASH(e),R=this.shouldUseFLV(e);if(!(e instanceof Array||(0,D.isMediaStream)(e)||h||w||R))return V.test(e)?e.replace("www.dropbox.com","dl.dropboxusercontent.com"):e}render(){const{url:e,playing:h,loop:w,controls:R,muted:c,config:o,width:O,height:N}=this.props,$=this.shouldUseAudio(this.props)?"audio":"video",W={width:O==="auto"?O:"100%",height:N==="auto"?N:"100%"};return P.default.createElement($,{ref:this.ref,src:this.getSource(e),style:W,preload:"auto",autoPlay:h||void 0,controls:R,muted:c,loop:w,...o.attributes},e instanceof Array&&e.map(this.renderSourceElement),o.tracks.map(this.renderTrack))}}return a(k,"displayName","FilePlayer"),a(k,"canPlay",I.canPlay.file),se}var ie,Se;function et(){if(Se)return ie;Se=1;var g=Ge().createReactPlayer,f=Qe().default;return ie=g([{key:"file",canPlay:f.canPlay,lazyPlayer:f}]),ie}var tt=et();const xe=Ce(tt),rt=()=>{const{user:g}=y.useContext(Me),[f,E]=y.useState(!0),[m,_]=y.useState(window.innerWidth<768),[s,v]=y.useState(window.innerWidth>=768&&window.innerWidth<1024),[b,d]=y.useState(window.innerHeight),[T,L]=y.useState(!1),[a,C]=y.useState(!0),[P,D]=y.useState("visible"),[I,U]=y.useState("hidden"),i=y.useRef(null),l=y.useRef(null),n=y.useRef(0),[r,u]=y.useState(!0),[p,A]=y.useState(!1),M=y.useCallback(()=>{_(window.innerWidth<768),v(window.innerWidth>=768&&window.innerWidth<1024),d(()=>window.innerWidth<768?Math.min(window.innerHeight,800):window.innerWidth<1024?Math.min(window.innerHeight*.85,500,window.innerHeight-150):window.innerHeight)},[]);y.useEffect(()=>{M(),window.addEventListener("resize",M);const o=setTimeout(()=>{u(!1)},1e3);return()=>{window.removeEventListener("resize",M),clearTimeout(o),i.current&&clearTimeout(i.current)}},[M]);const H=y.useMemo(()=>{const o={width:"100%",objectFit:"cover"};return s?{...o,height:`${b}px`,maxHeight:"85vh",objectPosition:"center 25%"}:{...o,height:`${b}px`}},[s,b]),V=y.useCallback(o=>{o&&o.getDuration&&(n.current=o.getDuration()),L(!0),u(!1),setTimeout(()=>{U("fadeIn"),setTimeout(()=>{U("scaleIn"),setTimeout(()=>{U("ready"),C(!1)},500)},700)},100)},[]),x=y.useCallback(o=>{if(P==="visible"&&n.current>0){const O=n.current-o.playedSeconds;O<=1.5&&O>0&&(D("fadeOut"),i.current=setTimeout(()=>{D("fadeIn"),i.current=setTimeout(()=>{D("visible")},1e3)},2e3))}},[P]),j=y.useCallback(()=>{if(a)return 0;switch(P){case"fadeOut":return 0;case"fadeIn":return 1;case"visible":return 1;default:return 1}},[a,P]),k=y.useCallback(()=>a?"1.5s":P==="visible"?"0s":"1s",[a,P]),t=y.useCallback(()=>({opacity:j(),WebkitTransition:`opacity ${k()} ease-in-out`,transition:`opacity ${k()} ease-in-out`,WebkitTransform:"translateZ(0)",transform:"translateZ(0)",WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden"}),[j,k]),e=y.useCallback(()=>{if(P!=="visible")return t();switch(I){case"hidden":return{opacity:0,transform:"scale(1.05) translateZ(0)",WebkitTransform:"scale(1.05) translateZ(0)",transition:"none",WebkitTransition:"none"};case"fadeIn":return{opacity:.7,transform:"scale(1.05) translateZ(0)",WebkitTransform:"scale(1.05) translateZ(0)",transition:"opacity 0.7s ease-in-out",WebkitTransition:"opacity 0.7s ease-in-out"};case"scaleIn":return{opacity:1,transform:"scale(1) translateZ(0)",WebkitTransform:"scale(1) translateZ(0)",transition:"opacity 0.5s ease-out, transform 0.5s ease-out",WebkitTransition:"opacity 0.5s ease-out, -webkit-transform 0.5s ease-out"};case"ready":default:return t()}},[P,I,t]),h=y.useCallback(o=>{console.error("Video error:",o),A(!0)},[]),w=y.useCallback(()=>{E(o=>!o)},[]),R=y.useMemo(()=>S.jsx("div",{className:`absolute inset-0 bg-gray-900 transition-opacity duration-500 z-0 ${r?"opacity-100":"opacity-0"}`,style:{backgroundImage:m?"url(/images/mobile-fallback.jpg)":"url(/images/desktop-fallback.jpg)",backgroundSize:"cover",backgroundPosition:"center"}}),[r,m]),c=y.useMemo(()=>({file:{attributes:{style:{objectFit:"cover",width:"100%",height:"100%"},playsInline:!0,"webkit-playsinline":"true",preload:"auto",disablePictureInPicture:!0,controlsList:"noplaybackrate nofullscreen nodownload","x-webkit-airplay":"allow",poster:m?"/images/mobile-fallback.jpg":"/images/desktop-fallback.jpg"},forceVideo:!0,forceAudio:!1,hlsOptions:{lowLatencyMode:!1,startPosition:-1,debug:!1,progressive:!0,maxBufferLength:15,maxMaxBufferLength:30,backBufferLength:0}}}),[m]);return S.jsxs("div",{className:"relative w-full overflow-hidden video-player bg-gray-900",style:{height:s?`${b}px`:"100vh",maxHeight:s?"85vh":"100vh"},children:[R,m?S.jsx("div",{className:"relative w-full h-full",children:S.jsx(xe,{ref:l,url:"https://media-hosting.imagekit.io/ebf0fc352bfe4f1d/mobile.mp4?Expires=1839077576&Key-Pair-Id=K2ZIVPTIP2VGHC&Signature=BnsrEKWF-UFaetxCkSTi7UIBgZpvdqKdI~YVsgSJBntKavsHcPD5dI-YrL-zKhD-psBFsC7vco9jxeE3xdPG6B8YbIW1OqmRWmkM35WMiAvNsejX5XjH0X5riL-WeAIYXfw5VcslDrPQ2p3kPnHeAtI29qPTTzswHNrqBCc4NfXZ7rp4HPdY~gFexsm3vKy40Hx5WffEWhOVruu6k8eAJ0VH5rdGa~A~~Aaz3GTURHLtqcNRFLPo~bB1NICyyJm9Qx-AFVU9pywPIlWZLtsjkYiI-cban37HFXcgukDb7K4aUq1tliZl3HGU81QC7To9xcPvfgs8Qqwu23jA0d0OyQ__",playing:!0,muted:f,loop:!0,width:"100%",height:"100%",className:"video-container",style:{...H,...e()},onReady:V,onProgress:x,onError:h,playsinline:!0,stopOnUnmount:!1,config:c,fallback:R,progressInterval:1e3})}):S.jsxs("div",{style:{height:`${b}px`},children:[S.jsx(xe,{ref:l,url:"https://media-hosting.imagekit.io/2d3a36f91bc1427b/pc.mp4?Expires=1839077576&Key-Pair-Id=K2ZIVPTIP2VGHC&Signature=25mP-gJ7z53ijph0oJi3ZRKejC-Fs5Lqv4B85o2h9qFxXdV2U6hzg-jXZnomDhQ0XBgir9u3N6ZnI1bhbpQA5JwduyL82PGrdlWA-ssz~kg2zK84pxBfjGDr0D1K5-kQ5mCegedmKif2GB-Mw9q1ZyP4FQyBBySiBHgyzGArxa0rX9QTkDFDfNUP-pNFqPgZr4zlnp7DRNE5w4dKax8xalVozF55MUN8q3B6SpMBZGHX6CU23HacRLe4vk-UdTbebxrx9hVJsorw5gjk-OF75ssJZZNo3jGmGLffNYdF-zifT88t8RGAsd8jD36D9JAniEHpICFz6WjmOwSEO3z9IA__",playing:!0,muted:f,loop:!0,width:"100%",height:"100%",className:"video-container",style:{...H,...e()},onReady:V,onProgress:x,onError:h,playsinline:!0,stopOnUnmount:!1,config:c,fallback:R,progressInterval:1e3}),S.jsxs("div",{className:"absolute z-10 bottom-1/4 right-0 flex items-center gap-4",children:[S.jsx("button",{className:"bg-[#33333399] text-white p-4 rounded-full cursor-pointer",onClick:w,children:f?S.jsx(je,{className:"w-full h-max"}):S.jsx(ke,{})}),S.jsx("p",{className:"p-3 bg-[#33333399] text-white border-l-4 border-[#ffffffd2] pr-16 font-semibold",children:"18+"})]})]}),S.jsxs("div",{className:"absolute z-10 flex flex-col gap-8 bottom-[180px] md:bottom-1/4 left-4 md:left-10 text-white md:top-auto",children:[S.jsx("h2",{className:"text-3xl md:text-5xl text-shadow-strong",children:g?"Bonjour "+(g==null?void 0:g.username):"Bienvenue sur PornFlix"}),S.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[S.jsx(oe,{to:"/search?g=Exclusif",className:"text-lg md:text-xl w-max px-6 py-2 rounded-md bg-cyan-500 exclusif hover:bg-cyan-400 transition duration-300 text-white font-semibold",children:"Leak mega exclusif"}),S.jsx(oe,{to:"/search?g=Community",className:"text-lg md:text-xl w-max px-6 py-2 rounded-md bg-orange-400 communautaire hover:bg-amber-500 transition duration-300 text-white font-semibold",children:"Leak communautaire"})]})]})]})},nt=B.memo(rt),ae=B.memo(({title:g,linkText:f,linkTo:E,data:m})=>S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"mx-4.5 md:mx-10.5 mt-12 mb-4 text-white flex justify-between items-end",children:[S.jsx("h2",{className:"text-2xl font-semibold",children:g}),S.jsx(oe,{to:E,className:"text-md hover:underline transition duration-300",children:f||"Voir plus →"})]}),m.length>0?S.jsx(Ve,{children:m.length===0?S.jsx($e,{count:10,className:"card_loading",skeletonClassName:"card"}):m.map((_,s)=>S.jsx(De,{className:"mx-1",id:_.id,image:_.image,link:_.link,title:_.title,genres:_.genres,username:_.username},`${_.id||s}`))}):S.jsx("div",{className:"flex justify-center items-center h-64 text-white text-lg font-semibold",children:"Aucune donnée disponible pour le môment."})]}));function st(){const[g,f]=y.useState([]),[E,m]=y.useState([]),[_,s]=y.useState([]),[v,b]=y.useState(""),[d,T]=y.useState(window.innerWidth<768),[L,a]=y.useState(!0),[C,P]=y.useState(0),D=1,I=y.useCallback(()=>{T(window.innerWidth<768)},[]);y.useEffect(()=>(I(),window.addEventListener("resize",I),()=>{window.removeEventListener("resize",I)}),[I]);const U=y.useCallback(async(n,r,u=0)=>{try{let p=await Ne(40,null,null,n,null,{timeout:15e3});return p||(p=null),r(p),!0}catch(p){if(console.warn(`Échec du chargement des posts ${n} (tentative ${u+1}/${D}):`,p),u<D-1){const A=Math.pow(2,u)*1e3;return await new Promise(M=>setTimeout(M,A)),U(n,r,u+1)}else return de.error(`Impossible de charger les posts ${n}. Veuillez vérifier votre connexion.`),r([]),!1}},[D]);y.useEffect(()=>{const n=new AbortController;let r=!0;return(async()=>{a(!0);try{r&&await U("Exclusif",f),r&&await U("Community",m),r&&setTimeout(async()=>{r&&await U("Meme",s)},1e3)}finally{r&&a(!1)}})(),()=>{r=!1,n.abort()}},[U,C]);const i=y.useCallback(()=>{P(n=>n+1),de.info("Tentative de rechargement des données...")},[]),l=y.useMemo(()=>`transform z-10 ${d?"-translate-y-48":"-translate-y-38"}`,[d]);return S.jsxs("div",{className:"w-full flex flex-col",children:[S.jsx(nt,{}),S.jsxs("div",{className:l,children:[!L&&g.length===0&&E.length===0&&S.jsx("div",{className:"flex justify-center mt-4",children:S.jsx("button",{onClick:i,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg",children:"Recharger les données"})}),S.jsx(ae,{title:"Mega Exclusif",linkTo:"/search?g=Exclusif",data:g}),S.jsx(ae,{title:"Communautaire",linkTo:"/search?g=Community",data:E}),S.jsx(ae,{title:"Chaud devant",linkTo:"/search?g=Meme",data:_})]})]})}const ut=B.memo(st);export{ut as default};
