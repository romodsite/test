const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Preview.yBzvh3g0.js","./vendor.g9V5BtTL.js"])))=>i.map(i=>d[i]);
import{R as V,r as m,j,_ as Ee}from"./index.IbELLZCT.js";import{b as Se,r as F,c as X,g as Oe}from"./vendor.g9V5BtTL.js";import{r as je}from"./index.CkpI_NMc.js";import{U as Le,F as Te,a as Ie,L as re,g as Ce,y as ne}from"./App.TSAX3wbY.js";import{C as Me}from"./Card.Bq3-3IZ3.js";const Ae=V.memo(({child:b,index:L,slideWidth:h})=>j.jsx("div",{style:{width:`${h}px`,flexShrink:0},children:b})),Re=V.memo(({children:b})=>{const L=m.useRef(null),h=m.useRef(null),[x,T]=m.useState(0),[l,v]=m.useState(1),[g,t]=m.useState(0),[r,s]=m.useState(0),[d,A]=m.useState(0),[R,N]=m.useState(0),[S,w]=m.useState(!1),[i,f]=m.useState(!1),[p,o]=m.useState("300ms"),[e,a]=m.useState(!1),[P,O]=m.useState(0),I=274,E=m.useCallback(()=>{e||x>=g||(a(!0),T(c=>{const k=c+l;return Math.min(k,g)}),O(c=>Math.min(c+1,r-1)))},[e,x,g,l,r]),_=m.useCallback(()=>{e||x<=0||(a(!0),T(c=>{const k=c-l;return Math.max(k,0)}),O(c=>Math.max(c-1,0)))},[e,x,l]);m.useEffect(()=>{const c=setTimeout(()=>a(!1),parseInt(p));return()=>clearTimeout(c)},[x,p]);const n=m.useCallback(()=>{const c=V.Children.count(b)-l;return`translateX(-${Math.min(x,c)*I}px)`},[b,x,l]);m.useEffect(()=>{const c=()=>{if(L.current&&h.current){const C=L.current.offsetWidth,M=Math.floor(C/I);v(M);const U=V.Children.count(b),H=Math.max(0,U-M);t(H);const W=Math.ceil(U/M);s(W),window.innerWidth<=500?o("300ms"):window.innerWidth<=768?o("600ms"):o("1000ms")}};c();const k=()=>{c()};return window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[b]),m.useEffect(()=>{const c=L.current,k=C=>{if(!S)return;const M=C.touches[0].clientX,U=C.touches[0].clientY,H=d-M,W=R-U;i||(Math.abs(H)>Math.abs(W)?C.preventDefault():(f(!0),w(!1))),i||(H>50?(E(),w(!1)):H<-50&&(_(),w(!1)))};return c==null||c.addEventListener("touchmove",k,{passive:!1}),()=>{c==null||c.removeEventListener("touchmove",k)}},[S,i,d,R,E,_]);const y=m.useCallback(c=>{A(c.touches[0].clientX),N(c.touches[0].clientY),w(!0),f(!1)},[]),D=m.useCallback(()=>{w(!1)},[]),B=m.useMemo(()=>{const c=V.Children.toArray(b),k=Math.max(0,x-2),C=Math.min(c.length,x+l+2),M=[];k>0&&M.push(j.jsx("div",{style:{width:k*I+"px",flexShrink:0}},"start-placeholder"));for(let U=k;U<C;U++)M.push(j.jsx(Ae,{child:c[U],index:U,slideWidth:I},U));return M},[b,x,l]),u=m.useMemo(()=>j.jsx("div",{className:"pagination-indicator flex justify-center mt-4 space-x-2",children:Array.from({length:r}).map((c,k)=>j.jsx("div",{className:"w-2 h-[3px] "+(k===P?"bg-white":"bg-gray-500")},k))}),[r,P]);return j.jsxs("div",{className:"carousel-wrapper relative w-full mx-auto",children:[j.jsxs("div",{ref:L,className:"carousel-container overflow-hidden relative w-full",onTouchStart:y,onTouchEnd:D,children:[j.jsx("div",{ref:h,className:"carousel-content flex mx-4 md:mx-[40px]",style:{transform:n(),width:V.Children.count(b)*I+"px",transition:`transform ${p} ease-in-out`},children:B}),x>0&&j.jsx("button",{onClick:_,className:"absolute h-full top-1/2 left-0 transform -translate-y-1/2 p-2 opacity-40 transition-all duration-300 cursor-pointer bg-gray-500 hover:bg-gray-700 hover:opacity-60 text-white hidden sm:block",children:"⬅"}),x<g&&j.jsx("button",{onClick:E,className:"absolute h-full top-1/2 right-0 transform -translate-y-1/2 p-2 opacity-40 transition-all duration-300 cursor-pointer bg-gray-500 hover:bg-gray-700 hover:opacity-60 text-white hidden sm:block",children:"➡"})]}),u]})}),_e=V.createContext({}),Ne=!0;function De({baseColor:b,highlightColor:L,width:h,height:x,borderRadius:T,circle:l,direction:v,duration:g,enableAnimation:t=!0,customHighlightBackground:r}){const s={};return v==="rtl"&&(s["--animation-direction"]="reverse"),typeof g=="number"&&(s["--animation-duration"]=`${g}s`),t||(s["--pseudo-element-display"]="none"),typeof h!="string"&&typeof h!="number"||(s.width=h),typeof x!="string"&&typeof x!="number"||(s.height=x),typeof T!="string"&&typeof T!="number"||(s.borderRadius=T),l&&(s.borderRadius="50%"),b!==void 0&&(s["--base-color"]=b),L!==void 0&&(s["--highlight-color"]=L),typeof r=="string"&&(s["--custom-highlight-background"]=r),s}function ie({count:b=1,wrapper:L,className:h,containerClassName:x,containerTestId:T,circle:l=!1,style:v,...g}){var t,r,s;const d=V.useContext(_e),A={...g};for(const[p,o]of Object.entries(g))o===void 0&&delete A[p];const R={...d,...A,circle:l},N={...v,...De(R)};let S="react-loading-skeleton";h&&(S+=` ${h}`);const w=(t=R.inline)!==null&&t!==void 0&&t,i=[],f=Math.ceil(b);for(let p=0;p<f;p++){let o=N;if(f>b&&p===f-1){const a=(r=o.width)!==null&&r!==void 0?r:"100%",P=b%1,O=typeof a=="number"?a*P:`calc(${a} * ${P})`;o={...o,width:O}}const e=V.createElement("span",{className:S,style:o,key:p},"‌");w?i.push(e):i.push(V.createElement(V.Fragment,{key:p},e,V.createElement("br",null)))}return V.createElement("span",{className:x,"data-testid":T,"aria-live":"polite","aria-busy":(s=R.enableAnimation)!==null&&s!==void 0?s:Ne},L?i.map((p,o)=>V.createElement(L,{key:o},p)):i)}const Ue=({count:b=10,className:L="",skeletonClassName:h=""})=>j.jsx("div",{className:"flex",children:Array.from({length:b}).map((x,T)=>j.jsx("div",{className:`w-[266px] h-[300px] mx-1 ${L}`,children:j.jsxs("div",{className:h,children:[j.jsx("h2",{children:j.jsx(ie,{height:21,width:90})}),j.jsx("p",{children:j.jsx(ie,{height:21,width:150})})]})},T))});var se,oe;function Pe(){if(oe)return se;oe=1;var b=function(t){return function(r){return!!r&&typeof r=="object"}(t)&&!function(r){var s=Object.prototype.toString.call(r);return s==="[object RegExp]"||s==="[object Date]"||function(d){return d.$$typeof===L}(r)}(t)},L=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function h(t,r){return r.clone!==!1&&r.isMergeableObject(t)?g((s=t,Array.isArray(s)?[]:{}),t,r):t;var s}function x(t,r,s){return t.concat(r).map(function(d){return h(d,s)})}function T(t){return Object.keys(t).concat(function(r){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r).filter(function(s){return Object.propertyIsEnumerable.call(r,s)}):[]}(t))}function l(t,r){try{return r in t}catch{return!1}}function v(t,r,s){var d={};return s.isMergeableObject(t)&&T(t).forEach(function(A){d[A]=h(t[A],s)}),T(r).forEach(function(A){(function(R,N){return l(R,N)&&!(Object.hasOwnProperty.call(R,N)&&Object.propertyIsEnumerable.call(R,N))})(t,A)||(l(t,A)&&s.isMergeableObject(r[A])?d[A]=function(R,N){if(!N.customMerge)return g;var S=N.customMerge(R);return typeof S=="function"?S:g}(A,s)(t[A],r[A],s):d[A]=h(r[A],s))}),d}function g(t,r,s){(s=s||{}).arrayMerge=s.arrayMerge||x,s.isMergeableObject=s.isMergeableObject||b,s.cloneUnlessOtherwiseSpecified=h;var d=Array.isArray(r);return d===Array.isArray(t)?d?s.arrayMerge(t,r,s):v(t,r,s):h(r,s)}return g.all=function(t,r){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(s,d){return g(s,d,r)},{})},se=g}var ae=Number.isNaN||function(b){return typeof b=="number"&&b!=b};function He(b,L){if(b.length!==L.length)return!1;for(var h=0;h<b.length;h++)if(x=b[h],T=L[h],!(x===T||ae(x)&&ae(T)))return!1;var x,T;return!0}const Ve=Object.freeze(Object.defineProperty({__proto__:null,default:function(b,L){var h;L===void 0&&(L=He);var x,T=[],l=!1;return function(){for(var v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];return l&&h===this&&L(v,T)||(x=b.apply(this,v),l=!0,h=this,T=v),x}}},Symbol.toStringTag,{value:"Module"})),Be=Se(Ve);var le,ue,q,ce,de,he,G,pe,Q,fe,Y,ye,J,me,ee,be,ge,ve;function xe(){if(ue)return le;ue=1;var b=typeof Element<"u",L=typeof Map=="function",h=typeof Set=="function",x=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function T(l,v){if(l===v)return!0;if(l&&v&&typeof l=="object"&&typeof v=="object"){if(l.constructor!==v.constructor)return!1;var g,t,r,s;if(Array.isArray(l)){if((g=l.length)!=v.length)return!1;for(t=g;t--!=0;)if(!T(l[t],v[t]))return!1;return!0}if(L&&l instanceof Map&&v instanceof Map){if(l.size!==v.size)return!1;for(s=l.entries();!(t=s.next()).done;)if(!v.has(t.value[0]))return!1;for(s=l.entries();!(t=s.next()).done;)if(!T(t.value[1],v.get(t.value[0])))return!1;return!0}if(h&&l instanceof Set&&v instanceof Set){if(l.size!==v.size)return!1;for(s=l.entries();!(t=s.next()).done;)if(!v.has(t.value[0]))return!1;return!0}if(x&&ArrayBuffer.isView(l)&&ArrayBuffer.isView(v)){if((g=l.length)!=v.length)return!1;for(t=g;t--!=0;)if(l[t]!==v[t])return!1;return!0}if(l.constructor===RegExp)return l.source===v.source&&l.flags===v.flags;if(l.valueOf!==Object.prototype.valueOf&&typeof l.valueOf=="function"&&typeof v.valueOf=="function")return l.valueOf()===v.valueOf();if(l.toString!==Object.prototype.toString&&typeof l.toString=="function"&&typeof v.toString=="function")return l.toString()===v.toString();if((g=(r=Object.keys(l)).length)!==Object.keys(v).length)return!1;for(t=g;t--!=0;)if(!Object.prototype.hasOwnProperty.call(v,r[t]))return!1;if(b&&l instanceof Element)return!1;for(t=g;t--!=0;)if((r[t]!=="_owner"&&r[t]!=="__v"&&r[t]!=="__o"||!l.$$typeof)&&!T(l[r[t]],v[r[t]]))return!1;return!0}return l!=l&&v!=v}return le=function(l,v){try{return T(l,v)}catch(g){if((g.message||"").match(/stack|recursion/i))return!1;throw g}}}function ke(){if(ce)return q;ce=1;var b,L=Object.create,h=Object.defineProperty,x=Object.getOwnPropertyDescriptor,T=Object.getOwnPropertyNames,l=Object.getPrototypeOf,v=Object.prototype.hasOwnProperty,g=(a,P,O,I)=>{if(P&&typeof P=="object"||typeof P=="function")for(let E of T(P))v.call(a,E)||E===O||h(a,E,{get:()=>P[E],enumerable:!(I=x(P,E))||I.enumerable});return a},t={};((a,P)=>{for(var O in P)h(a,O,{get:P[O],enumerable:!0})})(t,{defaultProps:()=>e,propTypes:()=>p}),b=t,q=g(h({},"__esModule",{value:!0}),b);var r=((a,P,O)=>(O=a!=null?L(l(a)):{},g(a&&a.__esModule?O:h(O,"default",{value:a,enumerable:!0}),a)))(je());const{string:s,bool:d,number:A,array:R,oneOfType:N,shape:S,object:w,func:i,node:f}=r.default,p={url:N([s,R,w]),playing:d,loop:d,controls:d,volume:A,muted:d,playbackRate:A,width:N([s,A]),height:N([s,A]),style:w,progressInterval:A,playsinline:d,pip:d,stopOnUnmount:d,light:N([d,s,w]),playIcon:f,previewTabIndex:A,previewAriaLabel:s,fallback:f,oEmbedUrl:s,wrapper:N([s,i,S({render:i.isRequired})]),config:S({soundcloud:S({options:w}),youtube:S({playerVars:w,embedOptions:w,onUnstarted:i}),facebook:S({appId:s,version:s,playerId:s,attributes:w}),dailymotion:S({params:w}),vimeo:S({playerOptions:w,title:s}),mux:S({attributes:w,version:s}),file:S({attributes:w,tracks:R,forceVideo:d,forceAudio:d,forceHLS:d,forceSafariHLS:d,forceDisableHls:d,forceDASH:d,forceFLV:d,hlsOptions:w,hlsVersion:s,dashVersion:s,flvVersion:s}),wistia:S({options:w,playerId:s,customControls:R}),mixcloud:S({options:w}),twitch:S({options:w,playerId:s}),vidyard:S({options:w})}),onReady:i,onStart:i,onPlay:i,onPause:i,onBuffer:i,onBufferEnd:i,onEnded:i,onError:i,onDuration:i,onSeek:i,onPlaybackRateChange:i,onPlaybackQualityChange:i,onProgress:i,onClickPreview:i,onEnablePIP:i,onDisablePIP:i},o=()=>{},e={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:o},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:o,onStart:o,onPlay:o,onPause:o,onBuffer:o,onBufferEnd:o,onEnded:o,onError:o,onDuration:o,onSeek:o,onPlaybackRateChange:o,onPlaybackQualityChange:o,onProgress:o,onClickPreview:o,onEnablePIP:o,onDisablePIP:o};return q}function Z(){if(pe)return G;pe=1;var b,L=Object.create,h=Object.defineProperty,x=Object.getOwnPropertyDescriptor,T=Object.getOwnPropertyNames,l=Object.getPrototypeOf,v=Object.prototype.hasOwnProperty,g=(u,c,k,C)=>{if(c&&typeof c=="object"||typeof c=="function")for(let M of T(c))v.call(u,M)||M===k||h(u,M,{get:()=>c[M],enumerable:!(C=x(c,M))||C.enumerable});return u},t=(u,c,k)=>(k=u!=null?L(l(u)):{},g(u&&u.__esModule?k:h(k,"default",{value:u,enumerable:!0}),u)),r={};((u,c)=>{for(var k in c)h(u,k,{get:c[k],enumerable:!0})})(r,{callPlayer:()=>n,getConfig:()=>E,getSDK:()=>I,isBlobUrl:()=>D,isMediaStream:()=>y,lazy:()=>R,omit:()=>_,parseEndTime:()=>o,parseStartTime:()=>p,queryString:()=>a,randomString:()=>e,supportsWebKitPresentationMode:()=>B}),b=r,G=g(h({},"__esModule",{value:!0}),b);var s=t(F()),d=t(function(){if(he)return de;function u(k,C){k.onload=function(){this.onerror=this.onload=null,C(null,k)},k.onerror=function(){this.onerror=this.onload=null,C(new Error("Failed to load "+this.src),k)}}function c(k,C){k.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,C(null,k))}}return he=1,de=function(k,C,M){var U=document.head||document.getElementsByTagName("head")[0],H=document.createElement("script");typeof C=="function"&&(M=C,C={}),C=C||{},M=M||function(){},H.type=C.type||"text/javascript",H.charset=C.charset||"utf8",H.async=!("async"in C)||!!C.async,H.src=k,C.attrs&&function(W,$){for(var z in $)W.setAttribute(z,$[z])}(H,C.attrs),C.text&&(H.text=""+C.text),("onload"in H?u:c)(H,M),H.onload||u(H,M),U.appendChild(H)}}()),A=t(Pe());const R=u=>s.default.lazy(async()=>{const c=await u();return typeof c.default=="function"?c:c.default}),N=/[?&#](?:start|t)=([0-9hms]+)/,S=/[?&#]end=([0-9hms]+)/,w=/(\d+)(h|m|s)/g,i=/^\d+$/;function f(u,c){if(u instanceof Array)return;const k=u.match(c);if(k){const C=k[1];if(C.match(w))return function(M){let U=0,H=w.exec(M);for(;H!==null;){const[,W,$]=H;$==="h"&&(U+=60*parseInt(W,10)*60),$==="m"&&(U+=60*parseInt(W,10)),$==="s"&&(U+=parseInt(W,10)),H=w.exec(M)}return U}(C);if(i.test(C))return parseInt(C)}}function p(u){return f(u,N)}function o(u){return f(u,S)}function e(){return Math.random().toString(36).substr(2,5)}function a(u){return Object.keys(u).map(c=>`${c}=${u[c]}`).join("&")}function P(u){return window[u]?window[u]:window.exports&&window.exports[u]?window.exports[u]:window.module&&window.module.exports&&window.module.exports[u]?window.module.exports[u]:null}const O={},I=function(u,c,k=null,C=()=>!0,M=d.default){const U=P(c);return U&&C(U)?Promise.resolve(U):new Promise((H,W)=>{if(O[u])return void O[u].push({resolve:H,reject:W});O[u]=[{resolve:H,reject:W}];const $=z=>{O[u].forEach(K=>K.resolve(z))};if(k){const z=window[k];window[k]=function(){z&&z(),$(P(c))}}M(u,z=>{z?(O[u].forEach(K=>K.reject(z)),O[u]=null):k||$(P(c))})})};function E(u,c){return(0,A.default)(c.config,u.config)}function _(u,...c){const k=[].concat(...c),C={},M=Object.keys(u);for(const U of M)k.indexOf(U)===-1&&(C[U]=u[U]);return C}function n(u,...c){if(!this.player||!this.player[u]){let k=`ReactPlayer: ${this.constructor.displayName} player could not call %c${u}%c – `;return this.player?this.player[u]||(k+="The method was not available"):k+="The player was not available",null}return this.player[u](...c)}function y(u){return typeof window<"u"&&window.MediaStream!==void 0&&u instanceof window.MediaStream}function D(u){return/^blob:/.test(u)}function B(u=document.createElement("video")){const c=/iPhone|iPod/.test(navigator.userAgent)===!1;return u.webkitSupportsPresentationMode&&typeof u.webkitSetPresentationMode=="function"&&c}return G}function We(){if(fe)return Q;fe=1;var b,L=Object.create,h=Object.defineProperty,x=Object.getOwnPropertyDescriptor,T=Object.getOwnPropertyNames,l=Object.getPrototypeOf,v=Object.prototype.hasOwnProperty,g=(w,i,f,p)=>{if(i&&typeof i=="object"||typeof i=="function")for(let o of T(i))v.call(w,o)||o===f||h(w,o,{get:()=>i[o],enumerable:!(p=x(i,o))||p.enumerable});return w},t=(w,i,f)=>(f=w!=null?L(l(w)):{},g(w&&w.__esModule?f:h(f,"default",{value:w,enumerable:!0}),w)),r=(w,i,f)=>(((p,o,e)=>{o in p?h(p,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):p[o]=e})(w,typeof i!="symbol"?i+"":i,f),f),s={};((w,i)=>{for(var f in i)h(w,f,{get:i[f],enumerable:!0})})(s,{default:()=>S}),b=s,Q=g(h({},"__esModule",{value:!0}),b);var d=t(F()),A=t(xe()),R=ke(),N=Z();class S extends d.Component{constructor(){super(...arguments),r(this,"mounted",!1),r(this,"isReady",!1),r(this,"isPlaying",!1),r(this,"isLoading",!0),r(this,"loadOnReady",null),r(this,"startOnPlay",!0),r(this,"seekOnPlay",null),r(this,"onDurationCalled",!1),r(this,"handlePlayerMount",i=>{this.player||(this.player=i,this.player.load(this.props.url)),this.progress()}),r(this,"getInternalPlayer",i=>this.player?this.player[i]:null),r(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const i=this.getCurrentTime()||0,f=this.getSecondsLoaded(),p=this.getDuration();if(p){const o={playedSeconds:i,played:i/p};f!==null&&(o.loadedSeconds=f,o.loaded=f/p),o.playedSeconds===this.prevPlayed&&o.loadedSeconds===this.prevLoaded||this.props.onProgress(o),this.prevPlayed=o.playedSeconds,this.prevLoaded=o.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),r(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:i,playing:f,volume:p,muted:o}=this.props;i(),o||p===null||this.player.setVolume(p),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):f&&this.player.play(),this.handleDurationCheck()}),r(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:i,onPlay:f,playbackRate:p}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&p!==1&&this.player.setPlaybackRate(p),i(),this.startOnPlay=!1),f(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),r(this,"handlePause",i=>{this.isPlaying=!1,this.isLoading||this.props.onPause(i)}),r(this,"handleEnded",()=>{const{activePlayer:i,loop:f,onEnded:p}=this.props;i.loopOnEnded&&f&&this.seekTo(0),f||(this.isPlaying=!1,p())}),r(this,"handleError",(...i)=>{this.isLoading=!1,this.props.onError(...i)}),r(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const i=this.getDuration();i?this.onDurationCalled||(this.props.onDuration(i),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),r(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(i){if(!this.player)return;const{url:f,playing:p,volume:o,muted:e,playbackRate:a,pip:P,loop:O,activePlayer:I,disableDeferredLoading:E}=this.props;if(!(0,A.default)(i.url,f)){if(this.isLoading&&!I.forceLoad&&!E&&!(0,N.isMediaStream)(f))return void(this.loadOnReady=f);this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(f,this.isReady)}i.playing||!p||this.isPlaying||this.player.play(),i.playing&&!p&&this.isPlaying&&this.player.pause(),!i.pip&&P&&this.player.enablePIP&&this.player.enablePIP(),i.pip&&!P&&this.player.disablePIP&&this.player.disablePIP(),i.volume!==o&&o!==null&&this.player.setVolume(o),i.muted!==e&&(e?this.player.mute():(this.player.unmute(),o!==null&&setTimeout(()=>this.player.setVolume(o)))),i.playbackRate!==a&&this.player.setPlaybackRate&&this.player.setPlaybackRate(a),i.loop!==O&&this.player.setLoop&&this.player.setLoop(O)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(i,f,p){if(!this.isReady)return void(i!==0&&(this.seekOnPlay=i,setTimeout(()=>{this.seekOnPlay=null},5e3)));if(f?f==="fraction":i>0&&i<1){const o=this.player.getDuration();if(!o)return;this.player.seekTo(o*i,p)}else this.player.seekTo(i,p)}render(){const i=this.props.activePlayer;return i?d.default.createElement(i,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}return r(S,"displayName","Player"),r(S,"propTypes",R.propTypes),r(S,"defaultProps",R.defaultProps),Q}function ze(){if(ye)return Y;ye=1;var b,L=Object.create,h=Object.defineProperty,x=Object.getOwnPropertyDescriptor,T=Object.getOwnPropertyNames,l=Object.getPrototypeOf,v=Object.prototype.hasOwnProperty,g=(I,E,_,n)=>{if(E&&typeof E=="object"||typeof E=="function")for(let y of T(E))v.call(I,y)||y===_||h(I,y,{get:()=>E[y],enumerable:!(n=x(E,y))||n.enumerable});return I},t=(I,E,_)=>(_=I!=null?L(l(I)):{},g(I&&I.__esModule?_:h(_,"default",{value:I,enumerable:!0}),I)),r=(I,E,_)=>(((n,y,D)=>{y in n?h(n,y,{enumerable:!0,configurable:!0,writable:!0,value:D}):n[y]=D})(I,typeof E!="symbol"?E+"":E,_),_),s={};((I,E)=>{for(var _ in E)h(I,_,{get:E[_],enumerable:!0})})(s,{createReactPlayer:()=>O}),b=s,Y=g(h({},"__esModule",{value:!0}),b);var d=t(F()),A=t(Pe()),R=t(Be),N=t(xe()),S=ke(),w=Z(),i=t(We());const f=(0,w.lazy)(()=>Ee(()=>import("./Preview.yBzvh3g0.js").then(I=>I.P),__vite__mapDeps([0,1]),import.meta.url)),p=typeof window<"u"&&window.document&&typeof document<"u",o=X!==void 0&&X.window&&X.window.document,e=Object.keys(S.propTypes),a=p||o?d.Suspense:()=>null,P=[],O=(I,E)=>{var _;return _=class extends d.Component{constructor(){super(...arguments),r(this,"state",{showPreview:!!this.props.light}),r(this,"references",{wrapper:n=>{this.wrapper=n},player:n=>{this.player=n}}),r(this,"handleClickPreview",n=>{this.setState({showPreview:!1}),this.props.onClickPreview(n)}),r(this,"showPreview",()=>{this.setState({showPreview:!0})}),r(this,"getDuration",()=>this.player?this.player.getDuration():null),r(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),r(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),r(this,"getInternalPlayer",(n="player")=>this.player?this.player.getInternalPlayer(n):null),r(this,"seekTo",(n,y,D)=>{if(!this.player)return null;this.player.seekTo(n,y,D)}),r(this,"handleReady",()=>{this.props.onReady(this)}),r(this,"getActivePlayer",(0,R.default)(n=>{for(const y of[...P,...I])if(y.canPlay(n))return y;return E||null})),r(this,"getConfig",(0,R.default)((n,y)=>{const{config:D}=this.props;return A.default.all([S.defaultProps.config,S.defaultProps.config[y]||{},D,D[y]||{}])})),r(this,"getAttributes",(0,R.default)(n=>(0,w.omit)(this.props,e))),r(this,"renderActivePlayer",n=>{if(!n)return null;const y=this.getActivePlayer(n);if(!y)return null;const D=this.getConfig(n,y.key);return d.default.createElement(i.default,{...this.props,key:y.key,ref:this.references.player,config:D,activePlayer:y.lazyPlayer||y,onReady:this.handleReady})})}shouldComponentUpdate(n,y){return!(0,N.default)(this.props,n)||!(0,N.default)(this.state,y)}componentDidUpdate(n){const{light:y}=this.props;!n.light&&y&&this.setState({showPreview:!0}),n.light&&!y&&this.setState({showPreview:!1})}renderPreview(n){if(!n)return null;const{light:y,playIcon:D,previewTabIndex:B,oEmbedUrl:u,previewAriaLabel:c}=this.props;return d.default.createElement(f,{url:n,light:y,playIcon:D,previewTabIndex:B,previewAriaLabel:c,oEmbedUrl:u,onClick:this.handleClickPreview})}render(){const{url:n,style:y,width:D,height:B,fallback:u,wrapper:c}=this.props,{showPreview:k}=this.state,C=this.getAttributes(n),M=typeof c=="string"?this.references.wrapper:void 0;return d.default.createElement(c,{ref:M,style:{...y,width:D,height:B},...C},d.default.createElement(a,{fallback:u},k?this.renderPreview(n):this.renderActivePlayer(n)))}},r(_,"displayName","ReactPlayer"),r(_,"propTypes",S.propTypes),r(_,"defaultProps",S.defaultProps),r(_,"addCustomPlayer",n=>{P.push(n)}),r(_,"removeCustomPlayers",()=>{P.length=0}),r(_,"canPlay",n=>{for(const y of[...P,...I])if(y.canPlay(n))return!0;return!1}),r(_,"canEnablePIP",n=>{for(const y of[...P,...I])if(y.canEnablePIP&&y.canEnablePIP(n))return!0;return!1}),_};return Y}function $e(){if(me)return J;me=1;var b,L=Object.defineProperty,h=Object.getOwnPropertyDescriptor,x=Object.getOwnPropertyNames,T=Object.prototype.hasOwnProperty,l={};((n,y)=>{for(var D in y)L(n,D,{get:y[D],enumerable:!0})})(l,{AUDIO_EXTENSIONS:()=>e,DASH_EXTENSIONS:()=>O,FLV_EXTENSIONS:()=>I,HLS_EXTENSIONS:()=>P,MATCH_URL_DAILYMOTION:()=>i,MATCH_URL_FACEBOOK:()=>d,MATCH_URL_FACEBOOK_WATCH:()=>A,MATCH_URL_KALTURA:()=>o,MATCH_URL_MIXCLOUD:()=>f,MATCH_URL_MUX:()=>s,MATCH_URL_SOUNDCLOUD:()=>t,MATCH_URL_STREAMABLE:()=>R,MATCH_URL_TWITCH_CHANNEL:()=>w,MATCH_URL_TWITCH_VIDEO:()=>S,MATCH_URL_VIDYARD:()=>p,MATCH_URL_VIMEO:()=>r,MATCH_URL_WISTIA:()=>N,MATCH_URL_YOUTUBE:()=>g,VIDEO_EXTENSIONS:()=>a,canPlay:()=>_}),b=l,J=((n,y,D,B)=>{if(y&&typeof y=="object"||typeof y=="function")for(let u of x(y))T.call(n,u)||u===D||L(n,u,{get:()=>y[u],enumerable:!(B=h(y,u))||B.enumerable});return n})(L({},"__esModule",{value:!0}),b);var v=Z();const g=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,t=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,r=/vimeo\.com\/(?!progressive_redirect).+/,s=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,d=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,A=/^https?:\/\/fb\.watch\/.+$/,R=/streamable\.com\/([a-z0-9]+)$/,N=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,S=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,w=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,i=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,f=/mixcloud\.com\/([^/]+\/[^/]+)/,p=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,o=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,e=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,a=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,P=/\.(m3u8)($|\?)/i,O=/\.(mpd)($|\?)/i,I=/\.(flv)($|\?)/i,E=n=>{if(n instanceof Array){for(const y of n)if(typeof y=="string"&&E(y)||E(y.src))return!0;return!1}return!(!(0,v.isMediaStream)(n)&&!(0,v.isBlobUrl)(n))||e.test(n)||a.test(n)||P.test(n)||O.test(n)||I.test(n)},_={youtube:n=>n instanceof Array?n.every(y=>g.test(y)):g.test(n),soundcloud:n=>t.test(n)&&!e.test(n),vimeo:n=>r.test(n)&&!a.test(n)&&!P.test(n),mux:n=>s.test(n),facebook:n=>d.test(n)||A.test(n),streamable:n=>R.test(n),wistia:n=>N.test(n),twitch:n=>S.test(n)||w.test(n),dailymotion:n=>i.test(n),mixcloud:n=>f.test(n),vidyard:n=>p.test(n),kaltura:n=>o.test(n),file:E};return J}function Fe(){if(be)return ee;be=1;var b,L=Object.create,h=Object.defineProperty,x=Object.getOwnPropertyDescriptor,T=Object.getOwnPropertyNames,l=Object.getPrototypeOf,v=Object.prototype.hasOwnProperty,g=(o,e,a,P)=>{if(e&&typeof e=="object"||typeof e=="function")for(let O of T(e))v.call(o,O)||O===a||h(o,O,{get:()=>e[O],enumerable:!(P=x(e,O))||P.enumerable});return o},t=(o,e,a)=>(((P,O,I)=>{O in P?h(P,O,{enumerable:!0,configurable:!0,writable:!0,value:I}):P[O]=I})(o,typeof e!="symbol"?e+"":e,a),a),r={};((o,e)=>{for(var a in e)h(o,a,{get:e[a],enumerable:!0})})(r,{default:()=>p}),b=r,ee=g(h({},"__esModule",{value:!0}),b);var s=((o,e,a)=>(a=o!=null?L(l(o)):{},g(o&&o.__esModule?a:h(a,"default",{value:o,enumerable:!0}),o)))(F()),d=Z(),A=$e();const R=typeof navigator<"u",N=R&&navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,S=R&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||N)&&!window.MSStream,w=R&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&!window.MSStream,i=/www\.dropbox\.com\/.+/,f=/https:\/\/watch\.cloudflarestream\.com\/([a-z0-9]+)/;class p extends s.Component{constructor(){super(...arguments),t(this,"onReady",(...e)=>this.props.onReady(...e)),t(this,"onPlay",(...e)=>this.props.onPlay(...e)),t(this,"onBuffer",(...e)=>this.props.onBuffer(...e)),t(this,"onBufferEnd",(...e)=>this.props.onBufferEnd(...e)),t(this,"onPause",(...e)=>this.props.onPause(...e)),t(this,"onEnded",(...e)=>this.props.onEnded(...e)),t(this,"onError",(...e)=>this.props.onError(...e)),t(this,"onPlayBackRateChange",e=>this.props.onPlaybackRateChange(e.target.playbackRate)),t(this,"onEnablePIP",(...e)=>this.props.onEnablePIP(...e)),t(this,"onDisablePIP",e=>{const{onDisablePIP:a,playing:P}=this.props;a(e),P&&this.play()}),t(this,"onPresentationModeChange",e=>{if(this.player&&(0,d.supportsWebKitPresentationMode)(this.player)){const{webkitPresentationMode:a}=this.player;a==="picture-in-picture"?this.onEnablePIP(e):a==="inline"&&this.onDisablePIP(e)}}),t(this,"onSeek",e=>{this.props.onSeek(e.target.currentTime)}),t(this,"mute",()=>{this.player.muted=!0}),t(this,"unmute",()=>{this.player.muted=!1}),t(this,"renderSourceElement",(e,a)=>typeof e=="string"?s.default.createElement("source",{key:a,src:e}):s.default.createElement("source",{key:a,...e})),t(this,"renderTrack",(e,a)=>s.default.createElement("track",{key:a,...e})),t(this,"ref",e=>{this.player&&(this.prevPlayer=this.player),this.player=e})}componentDidMount(){this.props.onMount&&this.props.onMount(this),this.addListeners(this.player);const e=this.getSource(this.props.url);e&&(this.player.src=e),(S||this.props.config.forceDisableHls)&&this.player.load()}componentDidUpdate(e){this.shouldUseAudio(this.props)!==this.shouldUseAudio(e)&&(this.removeListeners(this.prevPlayer,e.url),this.addListeners(this.player)),this.props.url===e.url||(0,d.isMediaStream)(this.props.url)||this.props.url instanceof Array||(this.player.srcObject=null)}componentWillUnmount(){this.player.removeAttribute("src"),this.removeListeners(this.player),this.hls&&this.hls.destroy()}addListeners(e){const{url:a,playsinline:P}=this.props;e.addEventListener("play",this.onPlay),e.addEventListener("waiting",this.onBuffer),e.addEventListener("playing",this.onBufferEnd),e.addEventListener("pause",this.onPause),e.addEventListener("seeked",this.onSeek),e.addEventListener("ended",this.onEnded),e.addEventListener("error",this.onError),e.addEventListener("ratechange",this.onPlayBackRateChange),e.addEventListener("enterpictureinpicture",this.onEnablePIP),e.addEventListener("leavepictureinpicture",this.onDisablePIP),e.addEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(a)||e.addEventListener("canplay",this.onReady),P&&(e.setAttribute("playsinline",""),e.setAttribute("webkit-playsinline",""),e.setAttribute("x5-playsinline",""))}removeListeners(e,a){e.removeEventListener("canplay",this.onReady),e.removeEventListener("play",this.onPlay),e.removeEventListener("waiting",this.onBuffer),e.removeEventListener("playing",this.onBufferEnd),e.removeEventListener("pause",this.onPause),e.removeEventListener("seeked",this.onSeek),e.removeEventListener("ended",this.onEnded),e.removeEventListener("error",this.onError),e.removeEventListener("ratechange",this.onPlayBackRateChange),e.removeEventListener("enterpictureinpicture",this.onEnablePIP),e.removeEventListener("leavepictureinpicture",this.onDisablePIP),e.removeEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(a)||e.removeEventListener("canplay",this.onReady)}shouldUseAudio(e){return!e.config.forceVideo&&!e.config.attributes.poster&&(A.AUDIO_EXTENSIONS.test(e.url)||e.config.forceAudio)}shouldUseHLS(e){return!!(w&&this.props.config.forceSafariHLS||this.props.config.forceHLS)||!S&&!this.props.config.forceDisableHls&&(A.HLS_EXTENSIONS.test(e)||f.test(e))}shouldUseDASH(e){return A.DASH_EXTENSIONS.test(e)||this.props.config.forceDASH}shouldUseFLV(e){return A.FLV_EXTENSIONS.test(e)||this.props.config.forceFLV}load(e){const{hlsVersion:a,hlsOptions:P,dashVersion:O,flvVersion:I}=this.props.config;if(this.hls&&this.hls.destroy(),this.dash&&this.dash.reset(),this.shouldUseHLS(e)&&(0,d.getSDK)("https://cdn.jsdelivr.net/npm/hls.js@VERSION/dist/hls.min.js".replace("VERSION",a),"Hls").then(E=>{if(this.hls=new E(P),this.hls.on(E.Events.MANIFEST_PARSED,()=>{this.props.onReady()}),this.hls.on(E.Events.ERROR,(_,n)=>{this.props.onError(_,n,this.hls,E)}),f.test(e)){const _=e.match(f)[1];this.hls.loadSource("https://videodelivery.net/{id}/manifest/video.m3u8".replace("{id}",_))}else this.hls.loadSource(e);this.hls.attachMedia(this.player),this.props.onLoaded()}),this.shouldUseDASH(e)&&(0,d.getSDK)("https://cdnjs.cloudflare.com/ajax/libs/dashjs/VERSION/dash.all.min.js".replace("VERSION",O),"dashjs").then(E=>{this.dash=E.MediaPlayer().create(),this.dash.initialize(this.player,e,this.props.playing),this.dash.on("error",this.props.onError),parseInt(O)<3?this.dash.getDebug().setLogToBrowserConsole(!1):this.dash.updateSettings({debug:{logLevel:E.Debug.LOG_LEVEL_NONE}}),this.props.onLoaded()}),this.shouldUseFLV(e)&&(0,d.getSDK)("https://cdn.jsdelivr.net/npm/flv.js@VERSION/dist/flv.min.js".replace("VERSION",I),"flvjs").then(E=>{this.flv=E.createPlayer({type:"flv",url:e}),this.flv.attachMediaElement(this.player),this.flv.on(E.Events.ERROR,(_,n)=>{this.props.onError(_,n,this.flv,E)}),this.flv.load(),this.props.onLoaded()}),e instanceof Array)this.player.load();else if((0,d.isMediaStream)(e))try{this.player.srcObject=e}catch{this.player.src=window.URL.createObjectURL(e)}}play(){const e=this.player.play();e&&e.catch(this.props.onError)}pause(){this.player.pause()}stop(){this.player.removeAttribute("src"),this.dash&&this.dash.reset()}seekTo(e,a=!0){this.player.currentTime=e,a||this.pause()}setVolume(e){this.player.volume=e}enablePIP(){this.player.requestPictureInPicture&&document.pictureInPictureElement!==this.player?this.player.requestPictureInPicture():(0,d.supportsWebKitPresentationMode)(this.player)&&this.player.webkitPresentationMode!=="picture-in-picture"&&this.player.webkitSetPresentationMode("picture-in-picture")}disablePIP(){document.exitPictureInPicture&&document.pictureInPictureElement===this.player?document.exitPictureInPicture():(0,d.supportsWebKitPresentationMode)(this.player)&&this.player.webkitPresentationMode!=="inline"&&this.player.webkitSetPresentationMode("inline")}setPlaybackRate(e){try{this.player.playbackRate=e}catch(a){this.props.onError(a)}}getDuration(){if(!this.player)return null;const{duration:e,seekable:a}=this.player;return e===1/0&&a.length>0?a.end(a.length-1):e}getCurrentTime(){return this.player?this.player.currentTime:null}getSecondsLoaded(){if(!this.player)return null;const{buffered:e}=this.player;if(e.length===0)return 0;const a=e.end(e.length-1),P=this.getDuration();return a>P?P:a}getSource(e){const a=this.shouldUseHLS(e),P=this.shouldUseDASH(e),O=this.shouldUseFLV(e);if(!(e instanceof Array||(0,d.isMediaStream)(e)||a||P||O))return i.test(e)?e.replace("www.dropbox.com","dl.dropboxusercontent.com"):e}render(){const{url:e,playing:a,loop:P,controls:O,muted:I,config:E,width:_,height:n}=this.props,y=this.shouldUseAudio(this.props)?"audio":"video",D={width:_==="auto"?_:"100%",height:n==="auto"?n:"100%"};return s.default.createElement(y,{ref:this.ref,src:this.getSource(e),style:D,preload:"auto",autoPlay:a||void 0,controls:O,muted:I,loop:P,...E.attributes},e instanceof Array&&e.map(this.renderSourceElement),E.tracks.map(this.renderTrack))}}return t(p,"displayName","FilePlayer"),t(p,"canPlay",A.canPlay.file),ee}function Ze(){if(ve)return ge;ve=1;var b=ze().createReactPlayer,L=Fe().default;return ge=b([{key:"file",canPlay:L.canPlay,lazyPlayer:L}])}const we=Oe(Ze()),Ke=V.memo(()=>{const{user:b}=m.useContext(Le),[L,h]=m.useState(!0),[x,T]=m.useState(window.innerWidth<768),[l,v]=m.useState(window.innerWidth>=768&&window.innerWidth<1024),[g,t]=m.useState(window.innerHeight),[r,s]=m.useState(!1),[d,A]=m.useState(!0),[R,N]=m.useState("visible"),[S,w]=m.useState("hidden"),i=m.useRef(null),f=m.useRef(null),p=m.useRef(0),[o,e]=m.useState(!0),[a,P]=m.useState(!1),O=m.useCallback(()=>{T(window.innerWidth<768),v(window.innerWidth>=768&&window.innerWidth<1024),t(()=>window.innerWidth<768?Math.min(window.innerHeight,800):window.innerWidth<1024?Math.min(.85*window.innerHeight,500,window.innerHeight-150):window.innerHeight)},[]);m.useEffect(()=>{O(),window.addEventListener("resize",O);const M=setTimeout(()=>{e(!1)},1e3);return()=>{window.removeEventListener("resize",O),clearTimeout(M),i.current&&clearTimeout(i.current)}},[O]);const I=m.useMemo(()=>{const M={width:"100%",objectFit:"cover"};return l?{...M,height:`${g}px`,maxHeight:"85vh",objectPosition:"center 25%"}:{...M,height:`${g}px`}},[l,g]),E=m.useCallback(M=>{M&&M.getDuration&&(p.current=M.getDuration()),s(!0),e(!1),setTimeout(()=>{w("fadeIn"),setTimeout(()=>{w("scaleIn"),setTimeout(()=>{w("ready"),A(!1)},500)},700)},100)},[]),_=m.useCallback(M=>{if(R==="visible"&&p.current>0){const U=p.current-M.playedSeconds;U<=1.5&&U>0&&(N("fadeOut"),i.current=setTimeout(()=>{N("fadeIn"),i.current=setTimeout(()=>{N("visible")},1e3)},2e3))}},[R]),n=m.useCallback(()=>d||R==="fadeOut"?0:1,[d,R]),y=m.useCallback(()=>d?"1.5s":R==="visible"?"0s":"1s",[d,R]),D=m.useCallback(()=>({opacity:n(),WebkitTransition:`opacity ${y()} ease-in-out`,transition:`opacity ${y()} ease-in-out`,WebkitTransform:"translateZ(0)",transform:"translateZ(0)",WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden"}),[n,y]),B=m.useCallback(()=>{if(R!=="visible")return D();switch(S){case"hidden":return{opacity:0,transform:"scale(1.05) translateZ(0)",WebkitTransform:"scale(1.05) translateZ(0)",transition:"none",WebkitTransition:"none"};case"fadeIn":return{opacity:.7,transform:"scale(1.05) translateZ(0)",WebkitTransform:"scale(1.05) translateZ(0)",transition:"opacity 0.7s ease-in-out",WebkitTransition:"opacity 0.7s ease-in-out"};case"scaleIn":return{opacity:1,transform:"scale(1) translateZ(0)",WebkitTransform:"scale(1) translateZ(0)",transition:"opacity 0.5s ease-out, transform 0.5s ease-out",WebkitTransition:"opacity 0.5s ease-out, -webkit-transform 0.5s ease-out"};default:return D()}},[R,S,D]),u=m.useCallback(M=>{P(!0)},[]),c=m.useCallback(()=>{h(M=>!M)},[]),k=m.useMemo(()=>j.jsx("div",{className:"absolute inset-0 bg-gray-900 transition-opacity duration-500 z-0 "+(o?"opacity-100":"opacity-0"),style:{backgroundImage:x?"url(/images/mobile-fallback.jpg)":"url(/images/desktop-fallback.jpg)",backgroundSize:"cover",backgroundPosition:"center"}}),[o,x]),C=m.useMemo(()=>({file:{attributes:{style:{objectFit:"cover",width:"100%",height:"100%"},playsInline:!0,"webkit-playsinline":"true",preload:"auto",disablePictureInPicture:!0,controlsList:"noplaybackrate nofullscreen nodownload","x-webkit-airplay":"allow",poster:x?"/images/mobile-fallback.jpg":"/images/desktop-fallback.jpg"},forceVideo:!0,forceAudio:!1,hlsOptions:{lowLatencyMode:!1,startPosition:-1,debug:!1,progressive:!0,maxBufferLength:15,maxMaxBufferLength:30,backBufferLength:0}}}),[x]);return j.jsxs("div",{className:"relative w-full overflow-hidden video-player bg-gray-900",style:{height:l?`${g}px`:"100vh",maxHeight:l?"85vh":"100vh"},children:[k,x?j.jsx("div",{className:"relative w-full h-full",children:j.jsx(we,{ref:f,url:"https://media-hosting.imagekit.io/ebf0fc352bfe4f1d/mobile.mp4?Expires=1839077576&Key-Pair-Id=K2ZIVPTIP2VGHC&Signature=BnsrEKWF-UFaetxCkSTi7UIBgZpvdqKdI~YVsgSJBntKavsHcPD5dI-YrL-zKhD-psBFsC7vco9jxeE3xdPG6B8YbIW1OqmRWmkM35WMiAvNsejX5XjH0X5riL-WeAIYXfw5VcslDrPQ2p3kPnHeAtI29qPTTzswHNrqBCc4NfXZ7rp4HPdY~gFexsm3vKy40Hx5WffEWhOVruu6k8eAJ0VH5rdGa~A~~Aaz3GTURHLtqcNRFLPo~bB1NICyyJm9Qx-AFVU9pywPIlWZLtsjkYiI-cban37HFXcgukDb7K4aUq1tliZl3HGU81QC7To9xcPvfgs8Qqwu23jA0d0OyQ__",playing:!0,muted:L,loop:!0,width:"100%",height:"100%",className:"video-container",style:{...I,...B()},onReady:E,onProgress:_,onError:u,playsinline:!0,stopOnUnmount:!1,config:C,fallback:k,progressInterval:1e3})}):j.jsxs("div",{style:{height:`${g}px`},children:[j.jsx(we,{ref:f,url:"https://media-hosting.imagekit.io/2d3a36f91bc1427b/pc.mp4?Expires=1839077576&Key-Pair-Id=K2ZIVPTIP2VGHC&Signature=25mP-gJ7z53ijph0oJi3ZRKejC-Fs5Lqv4B85o2h9qFxXdV2U6hzg-jXZnomDhQ0XBgir9u3N6ZnI1bhbpQA5JwduyL82PGrdlWA-ssz~kg2zK84pxBfjGDr0D1K5-kQ5mCegedmKif2GB-Mw9q1ZyP4FQyBBySiBHgyzGArxa0rX9QTkDFDfNUP-pNFqPgZr4zlnp7DRNE5w4dKax8xalVozF55MUN8q3B6SpMBZGHX6CU23HacRLe4vk-UdTbebxrx9hVJsorw5gjk-OF75ssJZZNo3jGmGLffNYdF-zifT88t8RGAsd8jD36D9JAniEHpICFz6WjmOwSEO3z9IA__",playing:!0,muted:L,loop:!0,width:"100%",height:"100%",className:"video-container",style:{...I,...B()},onReady:E,onProgress:_,onError:u,playsinline:!0,stopOnUnmount:!1,config:C,fallback:k,progressInterval:1e3}),j.jsxs("div",{className:"absolute z-10 bottom-1/4 right-0 flex items-center gap-4",children:[j.jsx("button",{className:"bg-[#33333399] text-white p-4 rounded-full cursor-pointer",onClick:c,children:L?j.jsx(Te,{className:"w-full h-max"}):j.jsx(Ie,{})}),j.jsx("p",{className:"p-3 bg-[#33333399] text-white border-l-4 border-[#ffffffd2] pr-16 font-semibold",children:"18+"})]})]}),j.jsxs("div",{className:"absolute z-10 flex flex-col gap-8 bottom-[180px] md:bottom-1/4 left-4 md:left-10 text-white md:top-auto",children:[j.jsx("h2",{className:"text-3xl md:text-5xl text-shadow-strong",children:b?"Bonjour "+(b==null?void 0:b.username):"Bienvenue sur PornFlix"}),j.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[j.jsx(re,{to:"/search?g=Exclusif",className:"text-lg md:text-xl w-max px-6 py-2 rounded-md bg-cyan-500 exclusif hover:bg-cyan-400 transition duration-300 text-white font-semibold",children:"Leak mega exclusif"}),j.jsx(re,{to:"/search?g=Community",className:"text-lg md:text-xl w-max px-6 py-2 rounded-md bg-orange-400 communautaire hover:bg-amber-500 transition duration-300 text-white font-semibold",children:"Leak communautaire"})]})]})]})}),te=V.memo(({title:b,linkText:L,linkTo:h,data:x})=>j.jsxs(j.Fragment,{children:[j.jsxs("div",{className:"mx-4.5 md:mx-10.5 mt-12 mb-4 text-white flex justify-between items-end",children:[j.jsx("h2",{className:"text-2xl font-semibold",children:b}),j.jsx(re,{to:h,className:"text-md hover:underline transition duration-300",children:L||"Voir plus →"})]}),x.length>0?j.jsx(Re,{children:x.length===0?j.jsx(Ue,{count:10,className:"card_loading",skeletonClassName:"card"}):x.map((T,l)=>j.jsx(Me,{className:"mx-1",id:T.id,image:T.image,link:T.link,title:T.title,genres:T.genres,username:T.username},`${T.id||l}`))}):j.jsx("div",{className:"flex justify-center items-center h-64 text-white text-lg font-semibold",children:"Aucune donnée disponible pour le môment."})]})),Je=V.memo(function(){const[b,L]=m.useState([]),[h,x]=m.useState([]),[T,l]=m.useState([]),[v,g]=m.useState(""),[t,r]=m.useState(window.innerWidth<768),[s,d]=m.useState(!0),[A,R]=m.useState(0),N=m.useCallback(()=>{r(window.innerWidth<768)},[]);m.useEffect(()=>(N(),window.addEventListener("resize",N),()=>{window.removeEventListener("resize",N)}),[N]);const S=m.useCallback(async(f,p,o=0)=>{try{let e=await Ce(40,null,null,f,null,{timeout:15e3});return e||(e=null),p(e),!0}catch{if(o<0){const a=1e3*Math.pow(2,o);return await new Promise(P=>setTimeout(P,a)),S(f,p,o+1)}return ne.error(`Impossible de charger les posts ${f}. Veuillez vérifier votre connexion.`),p([]),!1}},[1]);m.useEffect(()=>{const f=new AbortController;let p=!0;return(async()=>{d(!0);try{p&&await S("Exclusif",L),p&&await S("Community",x),p&&setTimeout(async()=>{p&&await S("Meme",l)},1e3)}finally{p&&d(!1)}})(),()=>{p=!1,f.abort()}},[S,A]);const w=m.useCallback(()=>{R(f=>f+1),ne.info("Tentative de rechargement des données...")},[]),i=m.useMemo(()=>"transform z-10 "+(t?"-translate-y-48":"-translate-y-38"),[t]);return j.jsxs("div",{className:"w-full flex flex-col",children:[j.jsx(Ke,{}),j.jsxs("div",{className:i,children:[!s&&b.length===0&&h.length===0&&j.jsx("div",{className:"flex justify-center mt-4",children:j.jsx("button",{onClick:w,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg",children:"Recharger les données"})}),j.jsx(te,{title:"Mega Exclusif",linkTo:"/search?g=Exclusif",data:b}),j.jsx(te,{title:"Communautaire",linkTo:"/search?g=Community",data:h}),j.jsx(te,{title:"Chaud devant",linkTo:"/search?g=Meme",data:T})]})]})});export{Je as default};
