import{j as e}from"./index.BQRiHLz8.js";import{r as a,a as t,u as i,L as n,f as s,O as l,R as r,b as o,c,N as p}from"./router.CamqIhIv.js";import{U as d,k as m,m as x,n as u,o as g,p as v,q as f,s as h,t as b,v as y,x as j,y as w,j as N,z as k,A as C,B as z,C as D,D as P,E as S,G as A,H as T,I as E,J as F,K as O,L as I,M as R,N as L,O as q,P as U,f as M,h as B,Q as $,R as _,S as W,T as Y,V as G,W as H,X as J,Y as K,Z as V,_ as Z,$ as X,a0 as Q,F as ee,a1 as ae,a2 as te}from"./App.CygJ2Zu7.js";import{C as ie}from"./Card.CvD9LGuw.js";import{g as ne}from"./vendor.BBo61Skz.js";import{c as se}from"./player.BR9K4l7b.js";import le from"./NotFound.DXmhWYKY.js";const re=()=>{const{user:r,logout:o}=a.useContext(d),c=t(),p=i(),[N,k]=a.useState(!1),C=()=>{k(!1)},z=(()=>{const e=c.pathname.split("/")[2]||"posts";return{posts:{title:"Your Posts",subtitle:"Manage and track your content"},create:{title:"Create Post",subtitle:"Share your content with the community"},reports:{title:"Reports",subtitle:"View status of reported content"},referrals:{title:"Referrals",subtitle:"Grow your audience and earn rewards"},"auto-send":{title:"Auto Send",subtitle:"Schedule and automate your posts"},settings:{title:"Settings",subtitle:"Manage your account preferences"}}[e]||{title:e.charAt(0).toUpperCase()+e.slice(1).replace("-"," "),subtitle:"Manage your account and content"}})(),D=[{path:"/dashboard/posts",icon:e.jsx(f,{}),label:"Posts"},{path:"/dashboard/create",icon:e.jsx(g,{}),label:"Create Post",mobileOnly:!0},{path:"/dashboard/reports",icon:e.jsx(h,{}),label:"Reports"},{path:"/dashboard/referrals",icon:e.jsx(b,{}),label:"Referrals"},{path:"/dashboard/auto-send",icon:e.jsx(y,{}),label:"Auto Send"},{path:"/dashboard/settings",icon:e.jsx(j,{}),label:"Settings"}];return r?e.jsxs("div",{className:"min-h-screen bg-gray-900 flex flex-col md:flex-row",children:[e.jsxs("div",{className:"md:hidden fixed top-0 left-0 right-0 z-50 flex items-center justify-between p-4 bg-gray-800 text-white border-b border-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[(null==r?void 0:r.profilePicture)?e.jsx("img",{src:null==r?void 0:r.profilePicture,alt:"Profile",className:"h-10 w-10 rounded-full object-cover"}):e.jsx("div",{className:"h-10 w-10 rounded-full object-cover flex items-center justify-center bg-gray-700",children:e.jsx(m,{size:20,className:"text-gray-500"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-bold",children:null==r?void 0:r.username}),e.jsx("span",{className:"text-xs text-gray-400",children:null==r?void 0:r.role})]})]}),e.jsx("button",{onClick:()=>k(!N),className:"p-2 rounded-lg hover:bg-gray-700 transition",children:N?e.jsx(x,{size:24}):e.jsx(u,{size:24})})]}),e.jsxs("aside",{className:(N?"translate-x-0":"-translate-x-full")+" md:translate-x-0 fixed md:sticky md:top-0 top-[64px] inset-0 z-40 w-72 h-[calc(100vh-64px)] md:h-screen bg-gray-800 transition-transform duration-300 ease-in-out overflow-y-auto flex flex-col",children:[e.jsx("div",{className:"flex justify-center pt-8 py-3 md:py-5 border-b border-gray-700",children:e.jsx(n,{to:"/home",className:"flex items-center",children:e.jsx("img",{src:"/images/flix.svg",alt:"Site Logo",className:"h-10"})})}),e.jsxs("div",{className:"hidden md:flex flex-col items-center p-6 border-b border-gray-700",children:[e.jsxs("div",{className:"relative mb-4",children:[(null==r?void 0:r.profilePicture)?e.jsx("img",{src:null==r?void 0:r.profilePicture,alt:"Profile",className:"h-20 w-20 rounded-full object-cover ring-4 ring-blue-600 ring-offset-2 ring-offset-gray-800"}):e.jsx("div",{className:"h-20 w-20 flex items-center justify-center rounded-full object-cover ring-4 ring-blue-600 ring-offset-2 ring-offset-gray-800 bg-gray-700",children:e.jsx(m,{size:38,className:"text-gray-500"})}),e.jsx("div",{className:`absolute bottom-0 right-0 w-4 h-4 rounded-full ${(null==r?void 0:r.banned)?"bg-red-500":"bg-green-500"} ring-2 ring-gray-800`})]}),e.jsx("h3",{className:"font-bold text-xl text-white mb-1",children:null==r?void 0:r.username}),e.jsx("span",{className:"text-sm text-gray-400 mb-4",children:null==r?void 0:r.role}),e.jsx("div",{className:"flex gap-2 w-full",children:e.jsxs(s,{to:"/dashboard/create",className:({isActive:e})=>`flex items-center justify-center gap-2 w-full py-2.5 rounded-md text-white ${(null==r?void 0:r.banned)?"bg-gray-600 cursor-not-allowed":e?"bg-blue-700":"bg-blue-600 hover:bg-blue-700"} transition shadow-lg`,onClick:C,children:[e.jsx(g,{size:14}),e.jsx("span",{children:"Create Post"})]})})]}),e.jsx("nav",{className:"flex-grow p-4",children:e.jsxs("div",{className:"mb-4 pb-3",children:[e.jsx("h3",{className:"text-gray-400 uppercase tracking-wider text-xs font-semibold px-4 mb-3",children:"Dashboard"}),e.jsx("div",{className:"space-y-1.5",children:D.map((a=>(!a.mobileOnly||a.mobileOnly&&768>=window.innerWidth)&&e.jsxs(s,{to:a.path,className:({isActive:e})=>"flex items-center gap-3 px-4 py-3 rounded-lg transition-colors "+(e?"bg-blue-600 text-white font-medium shadow-md":"text-gray-300 hover:bg-gray-700 hover:text-white"),onClick:C,children:[e.jsx("span",{className:"flex-shrink-0 w-5 h-5 flex items-center justify-center",children:a.icon}),e.jsx("span",{children:a.label})]},a.path)))})]})}),e.jsx("div",{className:"p-4 border-t border-gray-700 text-white",children:e.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3",children:[e.jsxs("p",{className:"text-sm mb-1 flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Subscription Plan:"}),(null==r?void 0:r.subscriptionName)&&(null==r?void 0:r.subscriptionActive)?e.jsx("span",{className:`\n                                    ${"Elite"===(null==r?void 0:r.subscriptionName)?"text-blue-400":""}\n                                    ${"Premium"===(null==r?void 0:r.subscriptionName)?"text-yellow-400":""}\n                                    ${(null==r?void 0:r.subscriptionName)&&"Free"!==(null==r?void 0:r.subscriptionName)?"":"text-red-400"}\n                                `,children:null==r?void 0:r.subscriptionName}):e.jsx("span",{className:"text-red-400",children:"Free"})]}),e.jsxs("p",{className:"text-sm mb-1 flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Registration:"}),e.jsx("span",{children:(null==r?void 0:r.dateCreation)||"N/A"})]}),e.jsxs("p",{className:"text-sm flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Status:"}),(null==r?void 0:r.banned)?e.jsx("span",{className:"text-red-400",children:"Suspended"}):e.jsx("span",{className:"text-green-400",children:"Active"})]})]})}),e.jsx("div",{className:"p-4 border-t border-gray-700",children:e.jsxs("button",{onClick(){o(),w.success("Déconnexion réussie"),p("/login")},className:"flex items-center justify-center gap-2 w-full py-2.5 rounded-md text-white bg-red-600 hover:bg-red-700 transition",children:[e.jsx(v,{}),e.jsx("span",{children:"Logout"})]})})]}),e.jsxs("main",{className:"flex-1 p-4 md:p-8 pt-[80px] md:pt-8",children:[e.jsxs("div",{className:"mb-8 pt-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-white md:text-3xl",children:z.title}),e.jsx("p",{className:"text-gray-400 mt-2",children:z.subtitle})]}),e.jsx("div",{className:"bg-gray-800 rounded-lg shadow-lg p-5",children:e.jsx(l,{})})]}),N&&e.jsx("div",{className:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-30",onClick:()=>k(!1)})]}):null},oe=()=>{const[t,i]=a.useState((()=>localStorage.getItem("dashboardPostsTab")||"accepted")),[n,s]=a.useState([]),[l,r]=a.useState([]),[o,c]=a.useState([]),[p,m]=a.useState(!0),{user:x}=a.useContext(d);a.useEffect((()=>{x&&u(t)}),[x,t]);const u=async e=>{m(!0);try{let a;"accepted"===e?(a=await N(10,null,x.username),s(a)):"pending"===e?(a=await k(x.username),r(a)):"rejected"===e&&(a=await C(x.username),c(a))}catch(a){w.error(a.message||"Error loading posts.")}finally{m(!1)}},g=e=>{i(e),localStorage.setItem("dashboardPostsTab",e),("accepted"===e&&0===n.length||"pending"===e&&0===l.length||"rejected"===e&&0===o.length)&&u(e)};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[e.jsx("button",{onClick:()=>g("accepted"),className:"px-4 py-2 text-sm font-medium rounded-md transition "+("accepted"===t?"bg-blue-600 text-white":"bg-gray-700 text-gray-200 hover:bg-gray-600"),children:"Accepted"}),e.jsx("button",{onClick:()=>g("pending"),className:"px-4 py-2 text-sm font-medium rounded-md transition "+("pending"===t?"bg-blue-600 text-white":"bg-gray-700 text-gray-200 hover:bg-gray-600"),children:"Pending"}),e.jsx("button",{onClick:()=>g("rejected"),className:"px-4 py-2 text-sm font-medium rounded-md transition "+("rejected"===t?"bg-blue-600 text-white":"bg-gray-700 text-gray-200 hover:bg-gray-600"),children:"Rejected"})]}),p?e.jsx("div",{className:"flex items-center justify-center py-10",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-blue-500"})}):e.jsxs("div",{children:["accepted"===t&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"Your Approved Posts"}),e.jsx("div",{className:"flex flex-wrap gap-4 justify-center sm:justify-start",children:0===n.length?e.jsx("p",{className:"text-gray-400 py-8 text-center w-full",children:"You don't have any approved posts yet."}):n.map((a=>e.jsx(ie,{id:a.id,image:a.image,link:a.link,title:a.title,genres:a.genres||[],username:a.username,user:x},a.id)))})]}),"pending"===t&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"Posts Being Reviewed"}),e.jsx("div",{className:"flex flex-wrap gap-4 justify-center sm:justify-start",children:0===l.length?e.jsx("p",{className:"text-gray-400 py-8 text-center w-full",children:"You don't have any posts awaiting moderation."}):l.map((a=>e.jsx(ie,{image:a.image,link:a.link,title:a.title,genres:a.genres||[],username:a.username,user:x,isPending:!0},a.id)))})]}),"rejected"===t&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"Rejected Posts"}),e.jsx("div",{className:"flex flex-wrap gap-4 justify-center sm:justify-start",children:0===o.length?e.jsx("p",{className:"text-gray-400 py-8 text-center w-full",children:"You don't have any rejected posts."}):o.map((a=>e.jsx(ie,{image:a.image,link:a.link,title:a.title,genres:a.genres||[],username:a.username,user:x,isRejected:!0,reason:a.reason},a.id)))})]})]})]})},ce=()=>{const[t,i]=a.useState([]),[s,l]=a.useState({page:1,totalPages:1,totalReports:0,limit:10}),[r,o]=a.useState(!0),{user:c}=a.useContext(d);a.useEffect((()=>{c&&p(1)}),[c]);const p=async e=>{o(!0);try{const a=await z(e);a&&a.reports&&(i(a.reports),l({page:a.pagination.page,totalPages:a.pagination.totalPages,totalReports:a.pagination.totalReports,limit:a.pagination.limit||10}))}catch(a){w.error(a.message||"Error loading reported posts.")}finally{o(!1)}},m=e=>{1>e||e>s.totalPages||p(e)},x=a=>"pending"===a?e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-yellow-500 text-white",children:"Pending"}):"accepted"===a?e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-500 text-white",children:"Kept"}):"rejected"===a?e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-500 text-white",children:"Deleted"}):e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-gray-500 text-white",children:"Unknown"});return e.jsxs("div",{className:"text-white",children:[e.jsx("h2",{className:"text-xl font-bold mb-6",children:"Reports you've submitted"}),r?e.jsx("div",{className:"flex items-center justify-center py-10",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-blue-500"})}):0===t.length?e.jsxs("div",{className:"text-center py-10 text-gray-400",children:[e.jsx("p",{className:"text-lg",children:"You haven't reported any posts yet."}),e.jsx("p",{className:"mt-2",children:"When you report content, it will appear here for tracking."})]}):e.jsxs("div",{children:[e.jsx("div",{className:"block md:hidden space-y-4",children:t.map((a=>e.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-bold text-lg border-b border-gray-600 pb-2 mb-2",children:a.postTitle||"Deleted post"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Posted by:"}),a.postOwnerUsername?e.jsx(n,{to:"/search?u="+a.postOwnerUsername,className:"text-blue-400 hover:underline",children:a.postOwnerUsername}):e.jsx("span",{children:"Unknown user"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Moderator response:"}),"pending"!==a.reportStatus&&a.reason?e.jsx("span",{className:"text-right",children:a.reason}):e.jsx("span",{className:"text-gray-400",children:"-"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-300",children:"Date:"}),e.jsx("span",{children:new Date(a.reportDate||a.date_creation).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300",children:"Status:"}),x(a.reportStatus)]})]})]},a.userReportId||a.id)))}),e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-gray-700 text-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 rounded-tl-lg",children:"Title"}),e.jsx("th",{className:"px-4 py-3",children:"Posted by"}),e.jsx("th",{className:"px-4 py-3",children:"Moderator response"}),e.jsx("th",{className:"px-4 py-3",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-center rounded-tr-lg",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-600",children:t.map((a=>e.jsxs("tr",{className:"hover:bg-gray-700/50",children:[e.jsx("td",{className:"px-4 py-3",children:a.postTitle||"Deleted post"}),e.jsx("td",{className:"px-4 py-3",children:a.postOwnerUsername?e.jsx(n,{to:"/search?u="+a.postOwnerUsername,className:"text-blue-400 hover:underline",children:a.postOwnerUsername}):e.jsx("span",{className:"text-gray-400",children:"Unknown user"})}),e.jsx("td",{className:"px-4 py-3 max-w-xs",children:"pending"!==a.reportStatus&&a.reason?e.jsx("p",{className:"truncate",children:a.reason}):e.jsx("p",{className:"text-gray-400",children:"-"})}),e.jsx("td",{className:"px-4 py-3",children:new Date(a.reportDate||a.date_creation).toLocaleDateString()}),e.jsx("td",{className:"px-4 py-3 text-center",children:x(a.reportStatus)})]},a.userReportId||a.id)))})]})}),s.totalPages>1&&e.jsx("div",{className:"flex justify-center mt-6",children:e.jsxs("nav",{className:"flex flex-wrap items-center justify-center",children:[e.jsx("button",{onClick:()=>m(s.page-1),className:"px-3 py-1 m-1 rounded-l border "+(1===s.page?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-700 border-gray-600 text-white hover:bg-gray-600"),disabled:1===s.page,children:"Previous"}),e.jsx("div",{className:"flex flex-wrap justify-center",children:[...Array(s.totalPages)].map(((a,t)=>{const i=t+1;return 1===i||i===s.totalPages||i>=s.page-1&&i<=s.page+1?e.jsx("button",{onClick:()=>m(i),className:"px-3 py-1 border-t border-b border-gray-600 "+(s.page===i?"bg-blue-600 text-white":"bg-gray-700 text-white hover:bg-gray-600"),children:i},i):2===i&&s.page>3||i===s.totalPages-1&&s.page<s.totalPages-2?e.jsx("span",{className:"px-3 py-1 border-t border-b border-gray-600 bg-gray-700 text-white",children:"..."},"ellipsis-"+i):null}))}),e.jsx("button",{onClick:()=>m(s.page+1),className:"px-3 py-1 m-1 rounded-r border "+(s.page===s.totalPages?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-700 border-gray-600 text-white hover:bg-gray-600"),disabled:s.page===s.totalPages,children:"Next"})]})}),e.jsx("p",{className:"text-gray-400 text-sm mt-4 text-center",children:"Note: If you're not satisfied with the decision on a post that is no longer pending, you can report it again by finding it on the site."})]})]})},pe=()=>{const{user:t}=a.useContext(d),[i,n]=a.useState(""),[s,l]=a.useState(""),[r,o]=a.useState([]),[c,p]=a.useState(!0),[m,x]=a.useState(!1),[u,g]=a.useState(null),v=[{id:1,name:"Bronze",threshold:3,icon:e.jsx(O,{className:"text-amber-700"}),color:"from-amber-700/30 to-amber-600/20",borderColor:"border-amber-700/50",benefits:["Profile badge","10% discount on subscriptions"]},{id:2,name:"Silver",threshold:5,icon:e.jsx(I,{className:"text-gray-400"}),color:"from-gray-400/30 to-gray-500/20",borderColor:"border-gray-400/50",benefits:["Bronze rewards","Exclusive content access","Higher posting limits"]},{id:3,name:"Gold",threshold:10,icon:e.jsx(S,{className:"text-amber-500"}),color:"from-amber-500/30 to-amber-400/20",borderColor:"border-amber-500/50",benefits:["Silver rewards","Custom profile themes","25% discount on subscriptions"]},{id:4,name:"Diamond",threshold:25,icon:e.jsx(R,{className:"text-blue-400"}),color:"from-blue-400/30 to-blue-500/20",borderColor:"border-blue-400/50",benefits:["Gold rewards","Priority moderation for your posts","Free Elite subscription (1 month)"]}];a.useEffect((()=>{if(t&&t.username){const e=`${t.username.replace(/\s+/g,"").toLowerCase()}-${Math.random().toString(36).substring(2,8)}`;n(e),l("https://yoursite.com/register?ref="+e),f()}}),[t]);const f=()=>{p(!0),setTimeout((()=>{o([{id:1,username:"user1",dateJoined:"2023-04-15",status:"active"},{id:2,username:"user2",dateJoined:"2023-05-20",status:"active"},{id:3,username:"user3",dateJoined:"2023-06-10",status:"pending"},{id:3,username:"user3",dateJoined:"2023-06-10",status:"pending"},{id:3,username:"user3",dateJoined:"2023-06-10",status:"pending"}]),p(!1)}),800)},h=e=>{navigator.clipboard.writeText(e).then((()=>{x(!0),w.success("Copied to clipboard!"),setTimeout((()=>x(!1)),2e3)})).catch((e=>{w.error("Failed to copy: "+e)}))},b=3>r.length?0:25>r.length?10>r.length?5>r.length?1:2:3:4,y=v.find((e=>e.threshold>r.length));return e.jsxs("div",{className:"text-white",children:[e.jsx("h2",{className:"text-xl font-bold mb-6",children:"Referral Program"}),e.jsxs("div",{className:"bg-gray-700 rounded-lg p-5 mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Your Referral Link"}),e.jsxs("div",{className:"flex flex-wrap gap-y-4",children:[e.jsxs("div",{className:"w-full lg:w-1/2 lg:pr-4",children:[e.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"Share this link with friends and earn rewards when they register!"}),e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"text",value:s,readOnly:!0,className:"flex-grow px-3 py-2 bg-gray-800 border border-gray-600 rounded-l focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{onClick:()=>h(s),className:`px-4 py-2 ${m?"bg-green-600":"bg-blue-600 hover:bg-blue-700"} rounded-r flex items-center justify-center transition-colors`,children:m?e.jsx(D,{}):e.jsx(P,{})})]})]}),e.jsxs("div",{className:"w-full lg:w-1/2 lg:pl-4 lg:border-l lg:border-gray-600",children:[e.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"Your referral code:"}),e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"text",value:i,readOnly:!0,className:"flex-grow px-3 py-2 bg-gray-800 border border-gray-600 rounded-l focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{onClick:()=>h(i),className:`px-4 py-2 ${m?"bg-green-600":"bg-blue-600 hover:bg-blue-700"} rounded-r flex items-center justify-center transition-colors`,children:m?e.jsx(D,{}):e.jsx(P,{})})]})]})]})]}),e.jsxs("div",{className:"bg-gray-700 rounded-lg p-5 mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(S,{className:"text-amber-500 mr-2"}),"Rewards Tiers"]}),b>0&&y&&e.jsxs("div",{className:"mb-6 bg-gradient-to-r from-blue-900/40 to-blue-600/40 p-4 rounded-lg border border-blue-700/50",children:[e.jsxs("p",{className:"text-blue-300 font-medium",children:["Current Tier: ",e.jsx("span",{className:"font-bold text-white",children:v[b-1].name})]}),e.jsx("div",{className:"mt-2 mb-1 bg-gray-800 h-2 rounded-full",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-1000",style:{width:Math.min(100,r.length/y.threshold*100)+"%"}})}),e.jsxs("p",{className:"text-sm text-blue-300",children:[e.jsx(A,{className:"inline mr-1"}),"Invite ",y.threshold-r.length," more friends to reach ",y.name," tier"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:v.map((a=>{const t=r.length>=a.threshold,i=b===a.id;return e.jsxs("div",{className:`bg-gradient-to-br ${a.color} border ${a.borderColor} rounded-lg p-4 transition-all duration-300 ${u===a.id?"transform scale-[1.03] shadow-lg z-10":""} ${i?"ring-2 ring-blue-500":""}`,onMouseEnter(){return e=a.id,void g(e);var e},onMouseLeave:()=>g(null),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"p-2.5 rounded-full "+(t?"bg-blue-600/30":"bg-gray-700/50"),children:a.icon}),t?e.jsxs("span",{className:"flex items-center text-green-400 text-xs px-2 py-1 bg-green-900/30 rounded-full",children:[e.jsx(T,{size:10,className:"mr-1"})," Unlocked"]}):e.jsxs("span",{className:"flex items-center text-gray-400 text-xs px-2 py-1 bg-gray-800/50 rounded-full",children:[e.jsx(E,{size:10,className:"mr-1"})," Locked"]})]}),e.jsxs("h4",{className:"text-lg font-semibold mb-2 "+(t?"text-white":"text-gray-400"),children:[a.name,i&&e.jsx("span",{className:"ml-2 inline-block",children:e.jsx(F,{className:"text-blue-400"})})]}),e.jsxs("div",{className:"text-sm mb-3 "+(t?"text-white":"text-gray-500"),children:[a.threshold," referrals required"]}),e.jsxs("div",{className:"mt-4 border-t border-gray-700/50 pt-3",children:[e.jsx("h5",{className:"text-sm font-medium mb-2 "+(t?"text-white":"text-gray-400"),children:"Benefits:"}),e.jsx("ul",{className:"space-y-1 "+(t?"text-white":"text-gray-500"),children:a.benefits.map(((a,t)=>e.jsxs("li",{className:"text-sm flex items-start",children:[e.jsx("span",{className:"mr-1.5 mt-1",children:"•"}),a]},t)))})]}),!t&&e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("span",{className:"inline-block bg-gray-800/80 text-gray-400 text-xs px-3 py-1.5 rounded-full",children:[a.threshold-r.length," more referrals needed"]})})]},a.id)}))})]}),e.jsxs("div",{className:"bg-gray-700 rounded-lg p-5",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Your Referrals"}),c?e.jsx("div",{className:"flex items-center justify-center py-10",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-blue-500"})}):0===r.length?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(O,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-2 text-lg font-medium",children:"No referrals yet"}),e.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Share your referral link with friends to earn rewards!"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-800 text-left",children:[e.jsx("th",{className:"px-4 py-2 rounded-tl-lg",children:"Username"}),e.jsx("th",{className:"px-4 py-2",children:"Joined Date"}),e.jsx("th",{className:"px-4 py-2 rounded-tr-lg",children:"Status"})]})}),e.jsx("tbody",{children:r.map(((a,t)=>{const i=t===r.length-1;return e.jsxs("tr",{className:"hover:bg-gray-600/30",children:[e.jsx("td",{className:"px-4 py-3 border-l border-t border-r border-gray-600 "+(i?"rounded-bl-lg border-b":""),children:a.username}),e.jsx("td",{className:"px-4 py-3 border-t border-r border-gray-600 "+(i?"border-b":""),children:new Date(a.dateJoined).toLocaleDateString()}),e.jsx("td",{className:"px-4 py-3 border-t border-r border-gray-600 "+(i?"rounded-br-lg border-b":""),children:"active"===a.status?e.jsx("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 rounded-full text-xs",children:"Active"}):e.jsx("span",{className:"px-2 py-1 bg-yellow-500/20 text-yellow-400 rounded-full text-xs",children:"Pending"})})]},a.id)}))})]})})]})]})},de=L.create({baseURL:(()=>{if("undefined"!=typeof window){const e=window.location.hostname;return"localhost"===e||"127.0.0.1"===e||e.startsWith("192.168.")}return!1})()?"http://192.168.1.200:5000/api":"https://api.megafree.xyz/api",timeout:15e3,withCredentials:!0,headers:{"Content-Type":"application/json"}});de.interceptors.response.use((e=>e),(e=>{var a;if(e.response){const t=(null==(a=e.response.data)?void 0:a.error)||"Une erreur s'est produite";e.message=t}else e.request&&(e.message="Serveur injoignable. Veuillez vérifier votre connexion et les paramètres du serveur.");return Promise.reject(e)}));const me=()=>{const{user:t}=a.useContext(d),[i,n]=a.useState("profile"),[s,l]=a.useState({username:(null==t?void 0:t.username)||"",email:(null==t?void 0:t.email)||"",bio:(null==t?void 0:t.bio)||""}),[r,o]=a.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[c,p]=a.useState(null),[u,v]=a.useState((null==t?void 0:t.profilePicture)||null),[h,b]=a.useState(JSON.parse(null==t?void 0:t.socialNetworks)||[]),[y,j]=a.useState({type:"discord",url:""}),[N,k]=a.useState({minLength:!1,hasLower:!1,hasUpper:!1,hasNumber:!1,hasSpecial:!1}),C=a=>{switch(a){case"discord":return e.jsx(_,{className:"text-indigo-400"});case"telegram":return e.jsx($,{className:"text-blue-400"});case"instagram":return e.jsx(B,{className:"text-pink-400"});case"twitter":return e.jsx(M,{className:"text-blue-400"});default:return e.jsx(U,{className:"text-gray-400"})}},z=[{id:"profile",label:"Profile",icon:e.jsx(m,{})},{id:"password",label:"Password",icon:e.jsx(E,{})},{id:"avatar",label:"Avatar",icon:e.jsx(f,{})},{id:"danger",label:"Danger Zone",icon:e.jsx(q,{className:"text-red-500"})}];return e.jsxs("div",{className:"text-white",children:[e.jsx("div",{className:"flex flex-wrap gap-2 border-b border-gray-700 mb-6",children:z.map((a=>e.jsxs("button",{className:"flex items-center gap-2 px-4 py-3 font-medium "+(i===a.id?"border-b-2 border-blue-500 text-blue-500":"text-gray-400 hover:text-white"),onClick:()=>n(a.id),children:[a.icon,a.label]},a.id)))}),"profile"===i&&e.jsxs("form",{async onSubmit(e){e.preventDefault(),s.bio,h.map((e=>({type:e.type,url:e.url})));try{await(async(e,a)=>(await de.post("/users/change-profile",{bio:e,socialNetwork:a})).data)(s.bio,h.map((e=>({type:e.type,url:e.url}))))?w.success("Profile updated successfully!"):w.error("Error updating profile. Please try again.")}catch(a){w.error(a.message||"Error updating profile")}},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-300 mb-1 flex justify-between",children:["Username",e.jsx("span",{className:"text-xs text-gray-500",children:"Cannot be changed"})]}),e.jsx("input",{type:"text",value:s.username,onChange:e=>l({...s,username:e.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded text-gray-500 cursor-not-allowed",disabled:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-300 mb-1 flex justify-between",children:["Email",e.jsx("span",{className:"text-xs text-gray-500",children:"Cannot be changed"})]}),e.jsx("input",{type:"email",value:s.email,onChange:e=>l({...s,email:e.target.value}),className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded text-gray-500 cursor-not-allowed",disabled:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-300 mb-1 flex justify-between",children:["Bio",e.jsxs("span",{className:"text-xs "+(s.bio.length>280?"text-orange-400":"text-gray-500"),children:[s.bio.length,"/300 characters"]})]}),e.jsx("textarea",{value:s.bio,onChange(e){const a=e.target.value;a.length>300||l({...s,bio:a})},rows:"4",maxLength:300,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-700",children:[e.jsx("label",{className:"block text-lg font-medium text-gray-300 mb-3",children:"Social Networks"}),h.length>0&&e.jsx("div",{className:"mb-4 grid gap-2",children:h.map((a=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-800 flex items-center justify-center mr-3",children:C(a.type)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium capitalize",children:a.type}),e.jsx("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-400 hover:underline truncate max-w-[200px] inline-block",children:a.url})]})]}),e.jsx("button",{type:"button",onClick(){return e=a.id,void b(h.filter((a=>a.id!==e)));var e},className:"p-1.5 bg-red-500/20 text-red-400 rounded-full hover:bg-red-500/30",children:e.jsx(x,{size:14})})]},a.id)))}),e.jsxs("div",{className:"bg-gray-800/60 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-3",children:"Add New Social Network"}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx("div",{className:"w-full sm:w-auto",children:e.jsxs("select",{value:y.type,onChange:e=>j({...y,type:e.target.value}),className:"w-full sm:w-40 px-3 py-2 bg-gray-700 border border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"discord",children:"Discord"}),e.jsx("option",{value:"telegram",children:"Telegram"}),e.jsx("option",{value:"instagram",children:"Instagram"}),e.jsx("option",{value:"twitter",children:"Twitter"})]})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"text",value:y.url,onChange:e=>j({...y,url:e.target.value}),placeholder:`Enter your ${y.type} link or username`,className:"flex-1 px-3 py-2 bg-gray-700 border border-gray-600 rounded-l focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsxs("button",{type:"button",onClick(){const{type:e,url:a}=y;if(!a.trim())return void w.error("Please enter a valid URL or username");if(h.some((a=>a.type===e)))return void w.error(`You already have a ${e.charAt(0).toUpperCase()+e.slice(1)} account linked. Please remove it first.`);let t=!1,i=a.trim(),n="";const s=(e,a)=>{try{const t=new URL(e);return!(t.username||t.password||t.href.includes("@")||a&&!t.hostname.endsWith(a))}catch(t){return!1}};switch(e){case"discord":i.match(/^.+#\d{4}$/)?t=!0:i.startsWith("https://discord.gg/")||i.startsWith("https://discord.com/invite/")?(t=s(i,"discord.com")||s(i,"discord.gg"),t||(n="Invalid Discord URL format. Please enter a valid discord.gg link.")):i.match(/^[a-zA-Z0-9_-]+$/)?(i="https://discord.gg/"+i,t=!0):n="Please enter a valid Discord username (user#1234) or invite link.";break;case"telegram":i.startsWith("@")?2>i.length?n="Telegram username is too short.":/^@[a-zA-Z0-9_]+$/.test(i)?(i="https://t.me/"+i.substring(1),t=!0):n="Invalid Telegram username format.":i.startsWith("https://t.me/")||i.startsWith("https://telegram.me/")?(t=s(i,"t.me")||s(i,"telegram.me"),t||(n="Invalid Telegram URL format.")):/^[a-zA-Z0-9_]+$/.test(i)?(i="https://t.me/"+i,t=!0):n="Please enter a valid Telegram username or t.me link.";break;case"instagram":i.startsWith("@")?2>i.length?n="Instagram username is too short.":/^@[a-zA-Z0-9._]+$/.test(i)?(i="https://instagram.com/"+i.substring(1),t=!0):n="Invalid Instagram username format.":i.startsWith("https://instagram.com/")||i.startsWith("https://www.instagram.com/")?(t=s(i,"instagram.com"),t||(n="Invalid Instagram URL format.")):/^[a-zA-Z0-9._]+$/.test(i)?(i="https://instagram.com/"+i,t=!0):n="Please enter a valid Instagram username or link.";break;case"twitter":i.startsWith("@")?2>i.length?n="Twitter username is too short.":/^@[a-zA-Z0-9_]+$/.test(i)?(i="https://twitter.com/"+i.substring(1),t=!0):n="Invalid Twitter username format.":i.startsWith("https://twitter.com/")||i.startsWith("https://x.com/")?(t=s(i,"twitter.com")||s(i,"x.com"),t||(n="Invalid Twitter/X URL format.")):/^[a-zA-Z0-9_]+$/.test(i)?(i="https://twitter.com/"+i,t=!0):n="Please enter a valid Twitter username or link.";break;default:n="Unknown social network type.",t=!1}t?(b([...h,{id:Date.now(),type:e,url:i}]),w.success("Social network added!"),j({type:"discord",url:""})):w.error(n||`Invalid ${e} link format. Please enter a valid URL or username.`)},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-r flex items-center",children:[e.jsx(g,{size:14,className:"mr-1"}),"Add"]})]}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["discord"===y.type&&"Enter your Discord username or server invite link","telegram"===y.type&&"Enter your Telegram username or channel link","instagram"===y.type&&"Enter your Instagram username","twitter"===y.type&&"Enter your Twitter username"]})]})]})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded font-medium transition-colors",children:"Save Changes"})})]}),"password"===i&&e.jsxs("form",{async onSubmit(e){e.preventDefault();const{minLength:a,hasLower:t,hasUpper:i,hasNumber:n,hasSpecial:s}=N;if(a&&t&&i&&n&&s)if(r.newPassword===r.confirmPassword)try{await(async(e,a)=>(await de.post("/users/change-password",{oldPassword:e,newPassword:a})).data)(r.currentPassword,r.newPassword),w.success("Password changed successfully!"),o({currentPassword:"",newPassword:"",confirmPassword:""}),k({minLength:!1,hasLower:!1,hasUpper:!1,hasNumber:!1,hasSpecial:!1})}catch(l){w.error(l.message||"Error updating password")}else w.error("New passwords do not match");else w.error("Password does not meet all requirements")},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Current Password"}),e.jsx("input",{type:"password",value:r.currentPassword,onChange:e=>o({...r,currentPassword:e.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"New Password"}),e.jsx("input",{type:"password",value:r.newPassword,onChange(e){const a=e.target.value;o({...r,newPassword:a}),k({minLength:a.length>=8,hasLower:/[a-z]/.test(a),hasUpper:/[A-Z]/.test(a),hasNumber:/[0-9]/.test(a),hasSpecial:/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(a)})},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),e.jsxs("div",{className:"mt-2 bg-gray-800 p-3 rounded text-sm",children:[e.jsx("p",{className:"text-gray-300 mb-2",children:"Password requirements:"}),e.jsxs("ul",{className:"space-y-1",children:[e.jsxs("li",{className:"flex items-center "+(N.minLength?"text-green-400":"text-gray-400"),children:[e.jsx("span",{className:"mr-2",children:N.minLength?"✓":"•"}),"At least 8 characters"]}),e.jsxs("li",{className:"flex items-center "+(N.hasLower?"text-green-400":"text-gray-400"),children:[e.jsx("span",{className:"mr-2",children:N.hasLower?"✓":"•"}),"One lowercase letter"]}),e.jsxs("li",{className:"flex items-center "+(N.hasUpper?"text-green-400":"text-gray-400"),children:[e.jsx("span",{className:"mr-2",children:N.hasUpper?"✓":"•"}),"One uppercase letter"]}),e.jsxs("li",{className:"flex items-center "+(N.hasNumber?"text-green-400":"text-gray-400"),children:[e.jsx("span",{className:"mr-2",children:N.hasNumber?"✓":"•"}),"One number"]}),e.jsxs("li",{className:"flex items-center "+(N.hasSpecial?"text-green-400":"text-gray-400"),children:[e.jsx("span",{className:"mr-2",children:N.hasSpecial?"✓":"•"}),"One special character"]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Confirm New Password"}),e.jsx("input",{type:"password",value:r.confirmPassword,onChange:e=>o({...r,confirmPassword:e.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded font-medium transition-colors",children:"Change Password"})})]}),"avatar"===i&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col items-center mb-6",children:[e.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden mb-4 bg-gray-700 flex items-center justify-center",children:u?e.jsx("img",{src:u,alt:"Profile preview",className:"w-full h-full object-cover"}):e.jsx(m,{size:48,className:"text-gray-500"})}),e.jsx("p",{className:"text-sm text-gray-400",children:"Current profile picture"})]}),e.jsxs("form",{async onSubmit(e){if(e.preventDefault(),c)try{await(async e=>{const a=new FormData;return a.append("image",e),(await de.post("/users/change-profile-picture",a,{headers:{"Content-Type":"multipart/form-data"}})).data})(c).then((()=>{w.success("Profile picture updated successfully!"),v(URL.createObjectURL(c))}))}catch(a){w.error(a.message||"Error updating profile picture")}else w.error("Please select an image first")},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Upload new image"}),e.jsx("input",{type:"file",accept:"image/*",onChange(e){const a=e.target.files[0];if(a){p(a);const e=new FileReader;e.onloadend=()=>{v(e.result)},e.readAsDataURL(a)}},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Recommended size: 500x500 pixels, max 2MB"})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded font-medium transition-colors",disabled:!c,children:"Update Profile Picture"})})]})]}),"danger"===i&&e.jsxs("div",{className:"bg-red-900/20 border border-red-800 rounded-lg p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-red-400 mb-2",children:"Danger Zone"}),e.jsx("p",{className:"mb-6 text-gray-300",children:"These actions are permanent and cannot be undone. Please proceed with caution."}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"p-4 border border-red-700 rounded-lg bg-red-900/20",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Delete Your Account"}),e.jsx("p",{className:"text-sm text-gray-300 mb-4",children:"This will permanently delete your account and all associated data. You will not be able to recover your posts, comments, or profile information."}),e.jsx("button",{type:"button",onClick(){window.confirm("Are you sure you want to delete your account? This action cannot be undone.")&&w.info("Account deletion requested. You will receive an email confirmation.")},className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded font-medium transition-colors",children:"Delete Account"})]})})]})]})},xe=L.create({baseURL:(()=>{if("undefined"!=typeof window){const e=window.location.hostname;return"localhost"===e||"127.0.0.1"===e||e.startsWith("192.168.")}return!1})()?"http://192.168.1.200:5000/api":"https://api.megafree.xyz/api",timeout:15e3,withCredentials:!0,headers:{"Content-Type":"application/json"}});xe.interceptors.response.use((e=>e),(e=>{var a;if(e.response){const t=(null==(a=e.response.data)?void 0:a.error)||"Une erreur s'est produite";e.message=t}else e.request&&(e.message="Serveur injoignable. Veuillez vérifier votre connexion et les paramètres du serveur.");return Promise.reject(e)}));const ue=()=>{const{user:t}=a.useContext(d),n=i(),[s,l]=a.useState("config"),[r,o]=a.useState(!1),c=(null==t?void 0:t.subscriptionActive)&&"Elite"===(null==t?void 0:t.subscriptionName),[p,m]=a.useState((()=>{const a=(null==t?void 0:t.autoSendDiscord)?JSON.parse(t.autoSendDiscord):null;return[{id:1,name:"Discord",connected:!!(null==a?void 0:a.webhookUrl),enabled:(null==a?void 0:a.enabled)||!1,icon:e.jsx(_,{className:"text-indigo-400"})},{id:2,name:"Telegram",connected:!1,enabled:!1,icon:e.jsx($,{className:"text-blue-400"})}]})),[x,u]=a.useState((()=>{var e,a,i;const n=(null==t?void 0:t.autoSendDiscord)?JSON.parse(t.autoSendDiscord):null;if(n){const t=(null==(e=n.embeds)?void 0:e[0])||{};return{webhookUrl:n.webhookUrl||"",webhookName:n.username||"Flix Notifier",webhookAvatar:"",embedColor:"#"+(t.color||5793266).toString(16).padStart(6,"0"),embedTitle:t.title||"Check out this post: {title}",customDescription:t.description||"Click the link to view the full post: {link}",embedTitleOverride:!1,includeTimestamp:!!t.timestamp,includeFooter:!!t.footer,footerText:(null==(a=t.footer)?void 0:a.text)||"Shared via Flix",footerIcon:(null==(i=t.footer)?void 0:i.icon_url)||"",fields:t.fields||[{name:"Post Link",value:"{link}",inline:!1}]}}return{webhookUrl:"",webhookName:"Flix Notifier",webhookAvatar:"",embedColor:"#5865F2",embedTitle:"Check out this post: {title}",customDescription:"Click the link to view the full post: {link}",embedTitleOverride:!1,includeTimestamp:!0,includeFooter:!0,footerText:"Shared via Flix",footerIcon:"",fields:[{name:"Post Link",value:"{link}",inline:!1}]}})),[g,v]=a.useState({botToken:"",chatId:"",includeImage:!0,parseMode:"HTML",customMessage:"New post available! Check it out:",messageTemplate:'<b>{title}</b>\n\n{message}\n\n<a href="{link}">View post</a>',useButtons:!1,buttonText:"View Post",includeGenres:!0}),[f]=a.useState({title:"Edena Princesa",image:"https://t1.pixhost.to/thumbs/5125/589257208_image.jpg",link:"https://example.com/",genres:["Community","Exclusif"],date:(new Date).toISOString()}),h=(e,a,t)=>{const i=[...x.fields];i[e][a]=t,u({...x,fields:i})},b=async e=>{const a=p.find((a=>a.id===e));if(w.info(`Testing ${a.name} connection...`),1!==e||x.webhookUrl)if(2!==e||g.botToken&&g.chatId)try{1===e&&await(async e=>(await xe.post("/send/test-auto-send-discord",{webhook:e})).data)(x.webhookUrl),m(p.map((a=>a.id===e?{...a,connected:!0}:a))),w.success(a.name+" connection successful!")}catch(t){w.error(`Failed to connect to ${a.name}: ${t.message}`)}else w.error("Please enter both Telegram bot token and chat ID");else w.error("Please enter a Discord webhook URL")},y=async e=>{const a=p.find((a=>a.id===e));if(1===e&&!a.connected)return void w.error("Please test your Discord webhook before saving.");const t=JSON.stringify(1===e?{webhookUrl:x.webhookUrl,content:x.customMessage,enabled:p[0].enabled,username:x.webhookName,embeds:[{title:x.embedTitle,description:x.customDescription,color:parseInt(x.embedColor.replace("#",""),16),fields:x.fields.map((e=>({name:e.name,value:e.value,inline:e.inline}))),image:{url:f.image},footer:x.includeFooter?{text:x.footerText,icon_url:x.footerIcon||void 0}:void 0,timestamp:x.includeTimestamp?(new Date).toISOString():void 0}]}:{botToken:g.botToken,chatId:g.chatId,enabled:p[1].enabled,message:g.messageTemplate.replace("{title}",f.title).replace("{message}",g.customMessage).replace("{link}",f.link),parseMode:g.parseMode,buttons:g.useButtons?[{text:g.buttonText,url:f.link}]:void 0});try{1===e&&await(async e=>(await xe.post("/send/config-auto-send-discord",{payload:e})).data)(t),w.success(a.name+" configuration saved")}catch(i){w.error(`Failed to save ${a.name} configuration: ${i.message}`)}},N=e=>{const a=p.find((a=>a.id===e));1!==e||a.connected?(m(p.map((a=>a.id===e?{...a,enabled:!a.enabled}:a))),w.info("Please save your changes to apply the activation or deactivation.")):w.error("Please test your Discord webhook before enabling.")};return e.jsxs("div",{className:"text-white",children:[r&&e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-96 text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Reset Configuration"}),e.jsx("p",{className:"text-gray-300 mb-6",children:"Are you sure you want to reset the Discord configuration to its default settings?"}),e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 rounded text-white",children:"Cancel"}),e.jsx("button",{onClick(){u({webhookUrl:"",webhookName:"Flix Notifier",webhookAvatar:"",embedColor:"#5865F2",embedTitle:"Check out this post: {title}",customDescription:"Click the link to view the full post: {link}",embedTitleOverride:!1,includeTimestamp:!0,includeFooter:!0,footerText:"Shared via Flix",footerIcon:"",fields:[{name:"Post Link",value:"{link}",inline:!1}]}),m(p.map((e=>1===e.id?{...e,enabled:!1,connected:!1}:e))),o(!1),w.success("Discord configuration has been reset to default.")},className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded text-white",children:"Reset"})]})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Manual Post Sharing"}),e.jsxs("div",{className:"flex items-start mb-4",children:[e.jsx("div",{className:"p-3 bg-blue-500/20 text-blue-300 rounded-lg mr-3 flex-shrink-0",children:e.jsx(W,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-300",children:"Configure your social platforms for manual sharing. Automatic posting is coming soon!"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:'Once configured, a "Share" button will appear on your posts in the dashboard.'})]})]}),e.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4 flex items-center mb-6",children:[e.jsx(Y,{className:"text-yellow-500 mr-3 flex-shrink-0",size:20}),e.jsxs("div",{children:[e.jsx("p",{className:"text-yellow-400 font-medium",children:"Automatic posting is coming soon"}),e.jsx("p",{className:"text-yellow-300/80 text-sm",children:"You'll be able to schedule automatic posts to your social networks."})]})]})]}),e.jsxs("div",{className:"flex border-b border-gray-700 mb-6",children:[e.jsx("button",{className:"py-2 px-4 font-medium "+("config"===s?"border-b-2 border-blue-500 text-blue-400":"text-gray-400 hover:text-white"),onClick:()=>l("config"),children:"Configuration"}),e.jsx("button",{className:"py-2 px-4 font-medium "+("help"===s?"border-b-2 border-blue-500 text-blue-400":"text-gray-400 hover:text-white"),onClick:()=>l("help"),children:"Help"})]}),"config"===s&&e.jsxs("div",{className:"grid gap-8",children:[e.jsxs("div",{className:"relative bg-gray-700 rounded-lg p-5",children:[!c&&e.jsxs("div",{className:"absolute inset-0 bg-black/70 rounded-lg flex flex-col items-center justify-center z-10",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Accès réservé aux membres Elite"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Abonnez-vous à l'offre Elite pour accéder à cette fonctionnalité."}),e.jsx("button",{onClick:()=>n("/subscription"),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded text-white font-medium",children:"Voir les abonnements"})]}),e.jsxs("div",{className:c?"":"opacity-30 pointer-events-none",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(_,{size:24,className:"text-indigo-400 mr-3"}),e.jsx("h3",{className:"text-xl font-semibold",children:"Discord Configuration"})]}),e.jsx("button",{onClick:()=>N(1),className:"flex items-center text-lg",children:p[0].enabled?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"text-green-400 text-2xl"}),e.jsx("span",{className:"ml-2 text-sm",children:"Enabled"})]}):e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"text-gray-400 text-2xl"}),e.jsx("span",{className:"ml-2 text-sm",children:"Disabled"})]})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Webhook URL"}),e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"text",value:x.webhookUrl,onChange:e=>u({...x,webhookUrl:e.target.value}),placeholder:"https://discord.com/api/webhooks/...",className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-600 rounded-l focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{onClick:()=>b(1),className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 rounded-r flex items-center",children:"Test"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.jsx("a",{href:"https://support.discord.com/hc/en-us/articles/228383668-Intro-to-Webhooks",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"Learn how to get a webhook URL"})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Webhook Name (Optional)"}),e.jsx("input",{type:"text",value:x.webhookName,onChange:e=>u({...x,webhookName:e.target.value}),placeholder:"Flix Notifier",className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Embed Title"}),e.jsx("input",{type:"text",value:x.embedTitle,onChange:e=>u({...x,embedTitle:e.target.value}),placeholder:"Use variables like {title}, {link}",className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Available variables: ",e.jsx("code",{children:"{title}"}),", ",e.jsx("code",{children:"{link}"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Embed Description"}),e.jsx("textarea",{value:x.customDescription,onChange:e=>u({...x,customDescription:e.target.value}),rows:"3",placeholder:"Use variables like {link}",className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Available variables: ",e.jsx("code",{children:"{link}"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Embed Fields"}),x.fields.map(((a,t)=>e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:a.name,onChange:e=>h(t,"name",e.target.value),placeholder:"Field Name (e.g., {title})",className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("input",{type:"text",value:a.value,onChange:e=>h(t,"value",e.target.value),placeholder:"Field Value (e.g., {message})",className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{type:"button",onClick:()=>(e=>{const a=x.fields.filter(((a,t)=>t!==e));u({...x,fields:a})})(t),className:"px-3 py-2 bg-red-600 hover:bg-red-700 rounded text-white",children:"Remove"})]}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx("input",{type:"checkbox",checked:a.inline,onChange:e=>h(t,"inline",e.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-800 border-gray-600 rounded focus:ring-blue-500"}),e.jsx("label",{className:"ml-2 text-sm text-gray-400",children:"Inline"})]})]},t))),e.jsx("button",{type:"button",onClick(){u({...x,fields:[...x.fields,{name:"",value:"",inline:!1}]})},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded text-white mt-2",children:"Add Field"}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Available variables: ",e.jsx("code",{children:"{title}"}),", ",e.jsx("code",{children:"{link}"})]})]}),e.jsxs("div",{className:"mt-4 flex justify-between",children:[e.jsxs("button",{onClick:()=>y(1),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded flex items-center",children:[e.jsx(J,{className:"mr-2"}),e.jsx("span",{children:"Save Configuration"})]}),e.jsxs("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded flex items-center",children:[e.jsx(j,{className:"mr-2"}),e.jsx("span",{children:"Reset to Default"})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-3 flex items-center",children:[e.jsx(K,{className:"mr-2 text-gray-400"}),e.jsx("h4",{className:"text-lg font-medium",children:"Message Preview"})]}),e.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-600",children:(()=>{const a=x.embedTitle.replaceAll("{title}",f.title).replaceAll("{link}",f.link),t=x.customDescription.replaceAll("{link}",f.link),i=x.fields.map((e=>({name:e.name.replaceAll("{title}",f.title).replaceAll("{link}",f.link),value:e.value.replaceAll("{title}",f.title).replaceAll("{link}",f.link),inline:e.inline}))),n={borderLeftColor:x.embedColor};return e.jsx("div",{className:"bg-[#36393f] rounded-md p-4 max-w-xl w-full",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-600 flex items-center justify-center text-white mr-3",children:x.webhookAvatar?e.jsx("img",{src:x.webhookAvatar,alt:"Webhook Avatar",className:"w-10 h-10 rounded-full object-cover"}):e.jsx(_,{size:20})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-semibold text-white",children:x.webhookName||"Flix Notifier"}),e.jsx("span",{className:"text-xs text-gray-400 ml-2",children:"BOT"})]}),e.jsx("div",{className:"mt-1",children:e.jsxs("div",{className:"border-l-4 rounded-sm pl-3 mt-1 bg-[#2f3136] p-2",style:n,children:[a&&e.jsx("div",{className:"font-semibold text-white hover:underline cursor-pointer",children:a}),t&&e.jsx("p",{className:"text-gray-300 mt-1 text-sm",children:t}),i.map(((a,t)=>e.jsxs("div",{className:"mt-2",children:[e.jsx("strong",{className:"text-white",children:a.name}),e.jsx("p",{className:"text-gray-300",children:a.value})]},t))),e.jsx("div",{className:"mt-2 mb-2",children:e.jsx("img",{src:f.image,alt:"Post preview",className:"rounded max-h-60 object-cover"})}),x.includeFooter&&e.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-700 flex items-center text-xs text-gray-400",children:[x.footerIcon&&e.jsx("img",{src:x.footerIcon,alt:"Footer icon",className:"w-5 h-5 rounded-full mr-2"}),e.jsx("span",{children:x.footerText}),x.includeTimestamp&&e.jsxs("span",{className:"ml-auto",children:[(new Date).toLocaleDateString()," ",(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]})})]})]})})})()}),e.jsx("p",{className:"text-xs text-gray-400 mt-2 text-center",children:"This is how your post will look when sent to Discord"})]})]})]})]}),e.jsxs("div",{className:"relative bg-gray-700 rounded-lg p-5",children:[!c&&e.jsxs("div",{className:"absolute inset-0 bg-black/70 flex flex-col items-center justify-center z-10 rounded-lg",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Accès réservé aux membres Elite"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Abonnez-vous à l'offre Elite pour accéder à cette fonctionnalité."}),e.jsx("button",{onClick:()=>n("/subscription"),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded text-white font-medium",children:"Voir les abonnements"})]}),e.jsxs("div",{className:c?"":"opacity-30 pointer-events-none",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx($,{size:24,className:"text-blue-400 mr-3"}),e.jsx("h3",{className:"text-xl font-semibold",children:"Telegram Configuration"})]}),e.jsx("button",{onClick:()=>N(2),className:"flex items-center text-lg",children:p[1].enabled?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"text-green-400 text-2xl"}),e.jsx("span",{className:"ml-2 text-sm",children:"Enabled"})]}):e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"text-gray-400 text-2xl"}),e.jsx("span",{className:"ml-2 text-sm",children:"Disabled"})]})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Bot Token"}),e.jsx("input",{type:"text",value:g.botToken,onChange:e=>v({...g,botToken:e.target.value}),placeholder:"123456789:AABBCC_ddEEff-GgHhIiJjKkLlMmNnOoPp",className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.jsx("a",{href:"https://core.telegram.org/bots#how-do-i-create-a-bot",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"How to get a bot token"})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Chat ID"}),e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"text",value:g.chatId,onChange:e=>v({...g,chatId:e.target.value}),placeholder:"-100123456789 or @channelname",className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-600 rounded-l focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{onClick:()=>b(2),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-r flex items-center",children:"Test"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Channel username (@channelname) or chat ID number"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Message Format"}),e.jsxs("select",{value:g.parseMode,onChange:e=>v({...g,parseMode:e.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"HTML",children:"HTML"}),e.jsx("option",{value:"Markdown",children:"Markdown"}),e.jsx("option",{value:"Plain",children:"Plain Text"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Custom Message"}),e.jsx("textarea",{value:g.customMessage,onChange:e=>v({...g,customMessage:e.target.value}),rows:"2",placeholder:"New post available! Check it out:",className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Message Template"}),e.jsx("textarea",{value:g.messageTemplate,onChange:e=>v({...g,messageTemplate:e.target.value}),rows:"3",placeholder:"<b>{title}</b>\n\n{message}\n\n<a href='{link}'>View post</a>",className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm"}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Available variables: ","{title}",", ","{message}",", ","{link}"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"telegram-include-image",checked:g.includeImage,onChange:()=>v({...g,includeImage:!g.includeImage}),className:"w-4 h-4 text-blue-600 bg-gray-800 border-gray-600 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"telegram-include-image",className:"ml-2 text-sm",children:"Include post image"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"telegram-include-genres",checked:g.includeGenres,onChange:()=>v({...g,includeGenres:!g.includeGenres}),className:"w-4 h-4 text-blue-600 bg-gray-800 border-gray-600 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"telegram-include-genres",className:"ml-2 text-sm",children:"Include post genres as hashtags"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"telegram-use-buttons",checked:g.useButtons,onChange:()=>v({...g,useButtons:!g.useButtons}),className:"w-4 h-4 text-blue-600 bg-gray-800 border-gray-600 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"telegram-use-buttons",className:"ml-2 text-sm",children:"Add button to message"})]}),g.useButtons&&e.jsx("div",{className:"pl-6 mt-2",children:e.jsx("input",{type:"text",value:g.buttonText,onChange:e=>v({...g,buttonText:e.target.value}),placeholder:"Button text",className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("button",{onClick:()=>y(2),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded flex items-center",children:[e.jsx(J,{className:"mr-2"}),e.jsx("span",{children:"Save Configuration"})]})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-3 flex items-center",children:[e.jsx(K,{className:"mr-2 text-gray-400"}),e.jsx("h4",{className:"text-lg font-medium",children:"Message Preview"})]}),e.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-600",children:e.jsxs("div",{className:"bg-[#1E2429] rounded-lg max-w-xl w-full shadow-lg",children:[e.jsxs("div",{className:"bg-[#5288c1] p-2 rounded-t-lg flex items-center",children:[e.jsx("div",{className:"w-6 h-6 mr-2 rounded-full bg-white/10 flex items-center justify-center",children:e.jsx($,{className:"text-white text-sm"})}),e.jsx("div",{className:"text-white font-medium",children:"Telegram"})]}),e.jsxs("div",{className:"p-3",children:[e.jsxs("div",{className:"flex mb-2 items-center",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500 mr-3 flex items-center justify-center text-white font-bold",children:"F"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-white",children:"Flix Bot"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Bot"})]})]}),e.jsxs("div",{className:"bg-[#182533] rounded-lg p-3 ml-12",children:[g.includeImage&&e.jsx("div",{className:"mb-3",children:e.jsx("img",{src:f.image||"https://via.placeholder.com/500x250?text=No+Image",alt:"Post preview",className:"w-full rounded-lg object-cover mb-2"})}),e.jsx("div",{className:"text-white",dangerouslySetInnerHTML:{__html:(()=>{let e=(g.messageTemplate||'<b>{title}</b>\n\n{message}\n\n<a href="{link}">View post</a>').replace("{title}",f.title).replace("{message}",g.customMessage).replace("{link}",f.link);return g.includeGenres&&f.genres&&f.genres.length>0&&(e+="\n\n"+f.genres.map((e=>"#"+e.replace(/\s+/g,""))).join(" ")),e})()}}),g.useButtons&&e.jsx("div",{className:"mt-3 pt-2 border-t border-gray-700",children:e.jsx("button",{className:"w-full py-2 bg-blue-600 hover:bg-blue-700 text-white rounded text-center text-sm",children:g.buttonText||"View Post"})})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-1 ml-12",children:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})}),e.jsx("p",{className:"text-xs text-gray-400 mt-2 text-center",children:"This is how your post will look when sent to Telegram"})]})]})]})]})]}),"help"===s&&e.jsxs("div",{className:"bg-gray-700 rounded-lg p-5",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"How Manual Sharing Works"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"bg-gray-800 rounded-full h-8 w-8 flex items-center justify-center text-blue-400 mr-3 flex-shrink-0",children:"1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-1",children:"Configure your platforms"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Set up Discord webhooks and/or Telegram bot to connect your accounts."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"bg-gray-800 rounded-full h-8 w-8 flex items-center justify-center text-blue-400 mr-3 flex-shrink-0",children:"2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-1",children:"Enable the platforms you want to use"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Toggle on the platforms where you want to share your posts."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"bg-gray-800 rounded-full h-8 w-8 flex items-center justify-center text-blue-400 mr-3 flex-shrink-0",children:"3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-1",children:"Use the share button on your posts"}),e.jsx("p",{className:"text-gray-300 text-sm",children:'A "Share" button will appear on your posts in the dashboard, letting you manually send them to your configured platforms.'}),e.jsxs("div",{className:"mt-2 bg-gray-800 p-3 rounded-lg flex items-center",children:[e.jsx(V,{className:"text-blue-400 mr-2"}),e.jsx("span",{className:"text-sm",children:"Share to Discord & Telegram"})]})]})]}),e.jsxs("div",{className:"border-t border-gray-600 pt-6",children:[e.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[e.jsx(j,{className:"mr-2 text-blue-400"}),"Automatic Posting Coming Soon"]}),e.jsx("p",{className:"text-gray-300 mb-3",children:"In the future, this feature will support automatic posting based on schedules and rules you define. The current manual sharing functionality is the first step."}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:"•"}),"Scheduled posting at optimal times"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:"•"}),"Auto-sharing of new posts"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:"•"}),"Performance analytics"]})]})]})]})]})]})},ge=ne(se());function ve(e,a,t,i){return new(t||(t=Promise))((function(n,s){function l(e){try{o(i.next(e))}catch(a){s(a)}}function r(e){try{o(i.throw(e))}catch(a){s(a)}}function o(e){var a;e.done?n(e.value):(a=e.value,a instanceof t?a:new t((function(e){e(a)}))).then(l,r)}o((i=i.apply(e,a||[])).next())}))}"function"==typeof SuppressedError&&SuppressedError;const fe=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function he(e,a,t){const i=function(e){const{name:a}=e;if(a&&-1!==a.lastIndexOf(".")&&!e.type){const t=a.split(".").pop().toLowerCase(),i=fe.get(t);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}(e),{webkitRelativePath:n}=e,s="string"==typeof a?a:"string"==typeof n&&n.length>0?n:"./"+e.name;return"string"!=typeof i.path&&be(i,"path",s),be(i,"relativePath",s),i}function be(e,a,t){Object.defineProperty(e,a,{value:t,writable:!1,configurable:!1,enumerable:!0})}const ye=[".DS_Store","Thumbs.db"];function je(e){return"object"==typeof e&&null!==e}function we(e){return e.filter((e=>-1===ye.indexOf(e.name)))}function Ne(e){if(null===e)return[];const a=[];for(let t=0;t<e.length;t++){const i=e[t];a.push(i)}return a}function ke(e){if("function"!=typeof e.webkitGetAsEntry)return ze(e);const a=e.webkitGetAsEntry();return a&&a.isDirectory?Pe(a):ze(e,a)}function Ce(e){return e.reduce(((e,a)=>[...e,...Array.isArray(a)?Ce(a):[a]]),[])}function ze(e,a){return ve(this,void 0,void 0,(function*(){var t;if(globalThis.isSecureContext&&"function"==typeof e.getAsFileSystemHandle){const a=yield e.getAsFileSystemHandle();if(null===a)throw Error(e+" is not a File");if(void 0!==a){const e=yield a.getFile();return e.handle=a,he(e)}}const i=e.getAsFile();if(!i)throw Error(e+" is not a File");return he(i,null!==(t=null==a?void 0:a.fullPath)&&void 0!==t?t:void 0)}))}function De(e){return ve(this,void 0,void 0,(function*(){return e.isDirectory?Pe(e):function(e){return ve(this,void 0,void 0,(function*(){return new Promise(((a,t)=>{e.file((t=>{const i=he(t,e.fullPath);a(i)}),(e=>{t(e)}))}))}))}(e)}))}function Pe(e){const a=e.createReader();return new Promise(((e,t)=>{const i=[];!function n(){a.readEntries((a=>ve(this,void 0,void 0,(function*(){if(a.length){const e=Promise.all(a.map(De));i.push(e),n()}else try{const a=yield Promise.all(i);e(a)}catch(s){t(s)}}))),(e=>{t(e)}))}()}))}var Se,Ae={};const Te=ne((Se||(Se=1,Ae.__esModule=!0,Ae.default=function(e,a){if(e&&a){var t=Array.isArray(a)?a:a.split(",");if(0===t.length)return!0;var i=e.name||"",n=(e.type||"").toLowerCase(),s=n.replace(/\/.*$/,"");return t.some((function(e){var a=e.trim().toLowerCase();return"."===a.charAt(0)?i.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):n===a}))}return!0}),Ae));function Ee(e){return function(e){if(Array.isArray(e))return qe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Le(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,i)}return t}function Oe(e){for(var a=1;arguments.length>a;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Fe(Object(t),!0).forEach((function(a){Ie(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Fe(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function Ie(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function Re(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,n,s=[],l=!0,r=!1;try{for(t=t.call(e);!(l=(i=t.next()).done)&&(s.push(i.value),!a||s.length!==a);l=!0);}catch(o){r=!0,n=o}finally{try{l||null==t.return||t.return()}finally{if(r)throw n}}return s}}(e,a)||Le(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,a){if(e){if("string"==typeof e)return qe(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?qe(e,a):void 0}}function qe(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,i=Array(a);a>t;t++)i[t]=e[t];return i}var Ue="function"==typeof Te?Te:Te.default,Me=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(","),a=e.length>1?"one of ".concat(e.join(", ")):e[0];return{code:"file-invalid-type",message:"File type must be ".concat(a)}},Be=function(e){return{code:"file-too-large",message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},$e=function(e){return{code:"file-too-small",message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},_e={code:"too-many-files",message:"Too many files"};function We(e,a){var t="application/x-moz-file"===e.type||Ue(e,a);return[t,t?null:Me(a)]}function Ye(e,a,t){if(Ge(e.size))if(Ge(a)&&Ge(t)){if(e.size>t)return[!1,Be(t)];if(e.size<a)return[!1,$e(a)]}else{if(Ge(a)&&e.size<a)return[!1,$e(a)];if(Ge(t)&&e.size>t)return[!1,Be(t)]}return[!0,null]}function Ge(e){return null!=e}function He(e){return"function"==typeof e.isPropagationStopped?e.isPropagationStopped():void 0!==e.cancelBubble&&e.cancelBubble}function Je(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function Ke(e){e.preventDefault()}function Ve(){for(var e=arguments.length,a=Array(e),t=0;e>t;t++)a[t]=arguments[t];return function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;t>n;n++)i[n-1]=arguments[n];return a.some((function(a){return!He(e)&&a&&a.apply(void 0,[e].concat(i)),He(e)}))}}function Ze(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||"application/*"===e||/\w+\/[-+.\w]+/g.test(e)}function Xe(e){return/^.*\.[\w]+$/.test(e)}var Qe=["children"],ea=["open"],aa=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],ta=["refKey","onChange","onClick"];function ia(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,n,s=[],l=!0,r=!1;try{for(t=t.call(e);!(l=(i=t.next()).done)&&(s.push(i.value),!a||s.length!==a);l=!0);}catch(o){r=!0,n=o}finally{try{l||null==t.return||t.return()}finally{if(r)throw n}}return s}}(e,a)||na(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function na(e,a){if(e){if("string"==typeof e)return sa(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?sa(e,a):void 0}}function sa(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,i=Array(a);a>t;t++)i[t]=e[t];return i}function la(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,i)}return t}function ra(e){for(var a=1;arguments.length>a;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?la(Object(t),!0).forEach((function(a){oa(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):la(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function oa(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function ca(e,a){if(null==e)return{};var t,i,n=function(e,a){if(null==e)return{};var t,i,n={},s=Object.keys(e);for(i=0;i<s.length;i++)t=s[i],0>a.indexOf(t)&&(n[t]=e[t]);return n}(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)t=s[i],0>a.indexOf(t)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}var pa=a.forwardRef((function(e,t){var i=e.children,n=xa(ca(e,Qe)),s=n.open,l=ca(n,ea);return a.useImperativeHandle(t,(function(){return{open:s}}),[s]),r.createElement(a.Fragment,null,i(ra(ra({},l),{},{open:s})))}));pa.displayName="Dropzone";var da={disabled:!1,getFilesFromEvent(e){return ve(this,void 0,void 0,(function*(){return je(e)&&je(e.dataTransfer)?function(e,a){return ve(this,void 0,void 0,(function*(){if(e.items){const t=Ne(e.items).filter((e=>"file"===e.kind));return"drop"!==a?t:we(Ce(yield Promise.all(t.map(ke))))}return we(Ne(e.files).map((e=>he(e))))}))}(e.dataTransfer,e.type):je(a=e)&&je(a.target)?Ne(e.target.files).map((e=>he(e))):Array.isArray(e)&&e.every((e=>"getFile"in e&&"function"==typeof e.getFile))?function(e){return ve(this,void 0,void 0,(function*(){return(yield Promise.all(e.map((e=>e.getFile())))).map((e=>he(e)))}))}(e):[];var a}))},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};pa.defaultProps=da,pa.propTypes={children:ge.func,accept:ge.objectOf(ge.arrayOf(ge.string)),multiple:ge.bool,preventDropOnDocument:ge.bool,noClick:ge.bool,noKeyboard:ge.bool,noDrag:ge.bool,noDragEventsBubbling:ge.bool,minSize:ge.number,maxSize:ge.number,maxFiles:ge.number,disabled:ge.bool,getFilesFromEvent:ge.func,onFileDialogCancel:ge.func,onFileDialogOpen:ge.func,useFsAccessApi:ge.bool,autoFocus:ge.bool,onDragEnter:ge.func,onDragLeave:ge.func,onDragOver:ge.func,onDrop:ge.func,onDropAccepted:ge.func,onDropRejected:ge.func,onError:ge.func,validator:ge.func};var ma={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function xa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ra(ra({},da),e),i=t.accept,n=t.disabled,s=t.getFilesFromEvent,l=t.maxSize,r=t.minSize,o=t.multiple,c=t.maxFiles,p=t.onDragEnter,d=t.onDragLeave,m=t.onDragOver,x=t.onDrop,u=t.onDropAccepted,g=t.onDropRejected,v=t.onFileDialogCancel,f=t.onFileDialogOpen,h=t.useFsAccessApi,b=t.autoFocus,y=t.preventDropOnDocument,j=t.noClick,w=t.noKeyboard,N=t.noDrag,k=t.noDragEventsBubbling,C=t.onError,z=t.validator,D=a.useMemo((function(){return function(e){if(Ge(e))return Object.entries(e).reduce((function(e,a){var t=Re(a,2),i=t[0],n=t[1];return[].concat(Ee(e),[i],Ee(n))}),[]).filter((function(e){return Ze(e)||Xe(e)})).join(",")}(i)}),[i]),P=a.useMemo((function(){return Ge(e=i)?[{description:"Files",accept:Object.entries(e).filter((function(e){var a=Re(e,2),t=a[0],i=a[1],n=!0;return Ze(t)||(n=!1),Array.isArray(i)&&i.every(Xe)||(n=!1),n})).reduce((function(e,a){var t=Re(a,2),i=t[0],n=t[1];return Oe(Oe({},e),{},Ie({},i,n))}),{})}]:e;var e}),[i]),S=a.useMemo((function(){return"function"==typeof f?f:ga}),[f]),A=a.useMemo((function(){return"function"==typeof v?v:ga}),[v]),T=a.useRef(null),E=a.useRef(null),F=ia(a.useReducer(ua,ma),2),O=F[0],I=F[1],R=O.isFocused,L=O.isFileDialogActive,q=a.useRef("undefined"!=typeof window&&window.isSecureContext&&h&&"showOpenFilePicker"in window),U=function(){!q.current&&L&&setTimeout((function(){E.current&&(E.current.files.length||(I({type:"closeDialog"}),A()))}),300)};a.useEffect((function(){return window.addEventListener("focus",U,!1),function(){window.removeEventListener("focus",U,!1)}}),[E,L,A,q]);var M=a.useRef([]),B=function(e){T.current&&T.current.contains(e.target)||(e.preventDefault(),M.current=[])};a.useEffect((function(){return y&&(document.addEventListener("dragover",Ke,!1),document.addEventListener("drop",B,!1)),function(){y&&(document.removeEventListener("dragover",Ke),document.removeEventListener("drop",B))}}),[T,y]),a.useEffect((function(){return!n&&b&&T.current&&T.current.focus(),function(){}}),[T,b,n]);var $=a.useCallback((function(e){C&&C(e)}),[C]),_=a.useCallback((function(e){var a;e.preventDefault(),e.persist(),te(e),M.current=[].concat(function(e){if(Array.isArray(e))return sa(e)}(a=M.current)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||na(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e.target]),Je(e)&&Promise.resolve(s(e)).then((function(a){if(!He(e)||k){var t=a.length,i=t>0&&(s=(n={files:a,accept:D,minSize:r,maxSize:l,multiple:o,maxFiles:c,validator:z}).files,d=n.accept,m=n.minSize,x=n.maxSize,g=n.maxFiles,v=n.validator,!(!(u=n.multiple)&&s.length>1||u&&g>=1&&s.length>g)&&s.every((function(e){var a=Re(We(e,d),1)[0],t=Re(Ye(e,m,x),1)[0],i=v?v(e):null;return a&&t&&!i})));I({isDragAccept:i,isDragReject:t>0&&!i,isDragActive:!0,type:"setDraggedFiles"}),p&&p(e)}var n,s,d,m,x,u,g,v})).catch((function(e){return $(e)}))}),[s,p,$,k,D,r,l,o,c,z]),W=a.useCallback((function(e){e.preventDefault(),e.persist(),te(e);var a=Je(e);if(a&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(t){}return a&&m&&m(e),!1}),[m,k]),Y=a.useCallback((function(e){e.preventDefault(),e.persist(),te(e);var a=M.current.filter((function(e){return T.current&&T.current.contains(e)})),t=a.indexOf(e.target);-1!==t&&a.splice(t,1),M.current=a,a.length>0||(I({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Je(e)&&d&&d(e))}),[T,d,k]),G=a.useCallback((function(e,a){var t=[],i=[];e.forEach((function(e){var a=ia(We(e,D),2),n=a[0],s=a[1],o=ia(Ye(e,r,l),2),c=o[0],p=o[1],d=z?z(e):null;if(n&&c&&!d)t.push(e);else{var m=[s,p];d&&(m=m.concat(d)),i.push({file:e,errors:m.filter((function(e){return e}))})}})),(!o&&t.length>1||o&&c>=1&&t.length>c)&&(t.forEach((function(e){i.push({file:e,errors:[_e]})})),t.splice(0)),I({acceptedFiles:t,fileRejections:i,isDragReject:i.length>0,type:"setFiles"}),x&&x(t,i,a),i.length>0&&g&&g(i,a),t.length>0&&u&&u(t,a)}),[I,o,D,r,l,c,x,u,g,z]),H=a.useCallback((function(e){e.preventDefault(),e.persist(),te(e),M.current=[],Je(e)&&Promise.resolve(s(e)).then((function(a){He(e)&&!k||G(a,e)})).catch((function(e){return $(e)})),I({type:"reset"})}),[s,G,$,k]),J=a.useCallback((function(){if(q.current){I({type:"openDialog"}),S();var e={multiple:o,types:P};window.showOpenFilePicker(e).then((function(e){return s(e)})).then((function(e){G(e,null),I({type:"closeDialog"})})).catch((function(e){var a,t;(a=e)instanceof DOMException&&("AbortError"===a.name||a.code===a.ABORT_ERR)?(A(e),I({type:"closeDialog"})):(t=e)instanceof DOMException&&("SecurityError"===t.name||t.code===t.SECURITY_ERR)?(q.current=!1,E.current?(E.current.value=null,E.current.click()):$(Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):$(e)}))}else E.current&&(I({type:"openDialog"}),S(),E.current.value=null,E.current.click())}),[I,S,A,h,G,$,P,o]),K=a.useCallback((function(e){T.current&&T.current.isEqualNode(e.target)&&(" "!==e.key&&"Enter"!==e.key&&32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),J()))}),[T,J]),V=a.useCallback((function(){I({type:"focus"})}),[]),Z=a.useCallback((function(){I({type:"blur"})}),[]),X=a.useCallback((function(){j||(function(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return-1!==(e=a).indexOf("MSIE")||-1!==e.indexOf("Trident/")||function(e){return-1!==e.indexOf("Edge/")}(a)}()?setTimeout(J,0):J())}),[j,J]),Q=function(e){return n?null:e},ee=function(e){return w?null:Q(e)},ae=function(e){return N?null:Q(e)},te=function(e){k&&e.stopPropagation()},ie=a.useMemo((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.refKey,t=void 0===a?"ref":a,i=e.role,s=e.onKeyDown,l=e.onFocus,r=e.onBlur,o=e.onClick,c=e.onDragEnter,p=e.onDragOver,d=e.onDragLeave,m=e.onDrop,x=ca(e,aa);return ra(ra(oa({onKeyDown:ee(Ve(s,K)),onFocus:ee(Ve(l,V)),onBlur:ee(Ve(r,Z)),onClick:Q(Ve(o,X)),onDragEnter:ae(Ve(c,_)),onDragOver:ae(Ve(p,W)),onDragLeave:ae(Ve(d,Y)),onDrop:ae(Ve(m,H)),role:"string"==typeof i&&""!==i?i:"presentation"},t,T),n||w?{}:{tabIndex:0}),x)}}),[T,K,V,Z,X,_,W,Y,H,w,N,n]),ne=a.useCallback((function(e){e.stopPropagation()}),[]),se=a.useMemo((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.refKey,t=void 0===a?"ref":a,i=e.onChange,n=e.onClick,s=ca(e,ta);return ra(ra({},oa({accept:D,multiple:o,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Q(Ve(i,H)),onClick:Q(Ve(n,ne)),tabIndex:-1},t,E)),s)}}),[E,i,o,H,n]);return ra(ra({},O),{},{isFocused:R&&!n,getRootProps:ie,getInputProps:se,rootRef:T,inputRef:E,open:Q(J)})}function ua(e,a){switch(a.type){case"focus":return ra(ra({},e),{},{isFocused:!0});case"blur":return ra(ra({},e),{},{isFocused:!1});case"openDialog":return ra(ra({},ma),{},{isFileDialogActive:!0});case"closeDialog":return ra(ra({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return ra(ra({},e),{},{isDragActive:a.isDragActive,isDragAccept:a.isDragAccept,isDragReject:a.isDragReject});case"setFiles":return ra(ra({},e),{},{acceptedFiles:a.acceptedFiles,fileRejections:a.fileRejections,isDragReject:a.isDragReject});case"reset":return ra({},ma);default:return e}}function ga(){}const va=()=>{const t=i(),{user:s}=a.useContext(d),[l,r]=a.useState(""),[o,c]=a.useState(""),[p,m]=a.useState(null),[u,g]=a.useState(null),[v,h]=a.useState(!1),[b,y]=a.useState(""),[j,N]=a.useState(!1),k="Elite"===(null==s?void 0:s.subscriptionName)&&!0===(null==s?void 0:s.subscriptionActive),C=["Exclusif","Community","Meme","Amateur","Asian","BDSM","Big Ass","Big Tits","Blonde","Brunette","Creampie","Ebony","Hardcore","Interracial","Latina","MILF","POV","Public","Redhead","Teen","Threesome"],[z,D]=a.useState(["Community"]),P=""===b.trim()?C:C.filter((e=>e.toLowerCase().includes(b.toLowerCase()))),{getRootProps:S,getInputProps:A,isDragActive:T}=xa({accept:{"image/*":[".jpg",".jpeg",".png",".webp"]},maxFiles:1,onDrop(e){if(null==e?void 0:e.length){const a=e[0];m(a);const t=new FileReader;t.onload=()=>{g(t.result)},t.readAsDataURL(a)}}}),F=e=>{"Community"!==e&&D((a=>a.includes(e)?a.filter((a=>a!==e)):4>a.length?[...a,e]:(w.warning("Maximum 3 additional tags allowed",{toastId:"max-tags-limit"}),a)))};return e.jsx("div",{className:"text-white",children:e.jsxs("form",{onSubmit(e){e.preventDefault(),l.trim()?o.trim()?p?2>z.length?w.error("Please select at least one category besides Community"):(async()=>{try{h(!0);const e={title:l,link:o,image:p,genres:z,monetized:j&&k};await te(e),w.success("Post created successfully and pending moderation"),t("/dashboard/posts")}catch(e){w.error(e.message||"Failed to create post")}finally{h(!1)}})():w.error("Please upload an image"):w.error("Please enter a link"):w.error("Please enter a title")},className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"title",className:"text-sm font-medium mb-2 flex items-center",children:[e.jsx(Z,{className:"mr-2 text-blue-400"}),"Title"]}),e.jsx("input",{id:"title",type:"text",value:l,onChange:e=>r(e.target.value),placeholder:"Enter an attractive title",className:"w-full px-4 py-3 rounded-lg bg-gray-700 border border-gray-600 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",maxLength:100}),e.jsxs("div",{className:"text-right text-xs text-gray-400 mt-1",children:[l.length,"/100 characters"]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"link",className:"text-sm font-medium mb-2 flex items-center",children:[e.jsx(U,{className:"mr-2 text-blue-400"}),"Link"]}),e.jsx("input",{id:"link",type:"text",value:o,onChange:e=>c(e.target.value),placeholder:"https://example.com/video-url",className:"w-full px-4 py-3 rounded-lg bg-gray-700 border border-gray-600 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium mb-2 flex items-center",children:[e.jsx(f,{className:"mr-2 text-blue-400"}),"Thumbnail Image"]}),p?e.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Q,{className:"text-blue-400 mr-2 text-xl"}),e.jsx("span",{className:"text-sm text-gray-200 truncate flex-1 mr-4",children:p.name})]}),e.jsx("button",{type:"button",onClick(){m(null),g(null)},className:"flex-shrink-0 bg-red-500 p-2 rounded-full hover:bg-red-600 transition text-white",children:e.jsx(x,{})})]}):e.jsxs("div",{...S(),className:"w-full px-4 py-8 rounded-lg border-2 border-dashed cursor-pointer flex flex-col items-center justify-center transition-colors "+(T?"border-blue-400 bg-blue-400/10":"border-gray-600 hover:border-blue-400 hover:bg-blue-400/5"),children:[e.jsx("input",{...A()}),e.jsx(X,{className:"text-3xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-center text-gray-300",children:T?"Drop the image here":"Drag & drop an image here, or click to select one"}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"JPG, PNG or WEBP (Max 5MB)"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium mb-2 flex items-center",children:[e.jsx(Z,{className:"mr-2 text-blue-400"}),"Categories (Select up to 3)"]}),e.jsxs("div",{className:"relative mb-3",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ee,{className:"text-gray-400"})}),e.jsx("input",{type:"text",placeholder:"Search categories...",value:b,onChange:e=>y(e.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg bg-gray-700 border border-gray-600 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsx("div",{className:"flex flex-wrap gap-2 max-h-40 overflow-y-auto p-1",children:P.map((a=>e.jsx("button",{type:"button",onClick:()=>F(a),className:"px-3 py-1.5 rounded-full text-sm transition "+(z.includes(a)?"Community"===a?"bg-gray-600 text-gray-300 cursor-not-allowed":"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"),disabled:"Community"===a,children:a},a)))}),e.jsxs("div",{className:"mt-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Selected categories:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:z.map((a=>e.jsxs("span",{className:"px-3 py-1.5 rounded-full text-sm flex items-center "+("Community"===a?"bg-gray-600 text-gray-300":"bg-blue-600 text-white"),children:[a,"Community"!==a&&e.jsx("button",{type:"button",className:"ml-2 text-xs hover:text-red-200",onClick:()=>F(a),children:"✕"})]},a)))})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-3",children:"*Community tag is automatically included"})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"sticky top-8",children:[e.jsxs("div",{className:"bg-gray-900 p-5 rounded-lg border border-gray-700 mb-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(K,{className:"mr-2 text-blue-400"}),e.jsx("h3",{className:"text-lg font-medium",children:"Preview"})]}),e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx(ie,{id:null,createPost:!0,image:u,link:o,title:l||"Your title will appear here",genres:z,username:(null==s?void 0:s.username)||"Username",user:s,monetized:j&&k})}),e.jsxs("div",{className:"mt-6 text-sm text-gray-400",children:[e.jsxs("p",{className:"mb-2",children:[e.jsx("strong",{children:"Note:"})," All posts require moderation approval before appearing on the site."]}),e.jsx("p",{children:"Please make sure your content complies with our community guidelines."})]})]}),e.jsx("div",{className:"p-4 rounded-lg mb-6 "+(k?"bg-green-900/20 border border-green-700":"bg-gray-700 border border-gray-600"),children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"monetize",type:"checkbox",checked:j,onChange:e=>N(e.target.checked),disabled:!k,className:"w-4 h-4 rounded "+(k?"text-green-600 focus:ring-green-500 border-green-400":"bg-gray-600 border-gray-500 cursor-not-allowed")})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsxs("label",{htmlFor:"monetize",className:"flex items-center font-medium",children:[e.jsx(ae,{className:"mr-2 "+(k?"text-green-400":"text-gray-400")}),"Monetize this post"]}),k?e.jsx("p",{className:"text-green-300 text-xs mt-1",children:"As an Elite member, your posts can earn revenue based on views and engagement."}):e.jsxs("div",{className:"mt-1 text-gray-400 text-xs",children:[e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx(E,{className:"mr-1"}),e.jsx("span",{children:"Monetization requires Elite subscription"})]}),e.jsxs(n,{to:"/subscription",className:"flex items-center text-blue-400 hover:underline mt-2",children:[e.jsx(R,{className:"mr-1"}),e.jsx("span",{children:"Upgrade to Elite"})]})]})]})]})}),e.jsx("button",{type:"submit",disabled:v,className:"w-full px-6 py-3 rounded-lg font-medium flex items-center justify-center gap-2 "+(v?"bg-gray-600 cursor-not-allowed":"bg-red-600 hover:bg-red-700"),children:v?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Submitting..."})]}):e.jsx("span",{children:"Create Post"})})]})})]})})},fa=()=>e.jsx(o,{children:e.jsxs(c,{path:"/",element:e.jsx(re,{}),children:[e.jsx(c,{index:!0,element:e.jsx(p,{to:"posts"})}),e.jsx(c,{path:"posts",element:e.jsx(oe,{})}),e.jsx(c,{path:"reports",element:e.jsx(ce,{})}),e.jsx(c,{path:"referrals",element:e.jsx(pe,{})}),e.jsx(c,{path:"settings",element:e.jsx(me,{})}),e.jsx(c,{path:"auto-send",element:e.jsx(ue,{})}),e.jsx(c,{path:"create",element:e.jsx(va,{})}),e.jsx(c,{path:"*",element:e.jsx(le,{inDashboard:!0})})," "]})});export{fa as default};
